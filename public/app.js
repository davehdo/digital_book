(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/app.js":[function(require,module,exports){
(function(e){"use strict";var i=require("lodash"),t=require("backdash");t.$=require("./lib/zepto");var s=require("./services/env"),n=require("./services/io");require("./services/log");var l,r="agilemd",o=".aglmd-modal",a="aglmd-modal-active",d=require("./views/modal"),h=".aglmd-navigation",c=require("./views/navigator/top"),u=".aglmd-content",g=[require("./views/navigator/folder"),require("./views/file/algorithm"),require("./views/file/document"),require("./views/file/flowchart"),require("./views/file/pdf")];!function(){var i=document.getElementById(r);i&&(i.style.position=i.style.position||"relative",i.style.width=i.style.width||"100%");var t=document.createElement("link");t.href=e.agilemd.DEBUG?"/css/app.css":"https://cdn.agilemd.com/widget/"+s("VERSION.M")+"/"+s("VERSION.m")+"/"+s("VERSION.p")+"/app.css",t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}();var m=t.View.extend({el:"#"+r,template:require("./templates/app.html"),initialize:function(){i.bindAll(this),this.$el.is("body")&&(n.warn(r+" is the <body> element; setting html & body height"),s.set({IS_FIXED_SIZE:!0}),t.$("html, body").addClass("aglmd-is-body")),this.setScroll(),this.render(),this.topnav=new c,this.renderSubview(h,this.topnav),this.topnav.on("disabled",function(){this.removeNavigation()},this),this.modal=new d,this.modal.on("render",function(){this.$el.toggleClass(a,!0),this.renderSubview(o,this.modal)},this),this.modal.on("unrender",function(){this.$el.toggleClass(a,!1)},this),i.each(g,function(e){var i=new e;i.on("rendered",function(){this.resetScroll()},this),i.on("render",function(){this.renderSubview(u,i)},this)},this),n.init(),t.$(this.el).length||n.abort(this.el+" must exist in the live DOM before loading the widget")},removeNavigation:function(){this.$el.removeClass("aglmd-has-navigation")},render:function(){return this.$el.append(this.template()),this.$el.addClass("aglmd-has-navigation"),this.$el.toggleClass("aglmd-content-fixed",s("IS_FIXED_SIZE")),this.trigger("rendered"),this},renderSubview:function(e,i){return i.setElement(this.$el.children(e)),i.render(),i.delegateEvents(),this},resetScroll:function(){i.isUndefined(this.scrollTop)||t.$("body").scrollTop(this.scrollTop)},setScroll:function(){var e=this.$el.height();e||(n.warn(r+" does not have an explicit height; the document scroll position will receive updates"),this.scrollTop=t.$("body").scrollTop()),s.set({IS_FIXED_SIZE:s("IS_FIXED_SIZE")||!!e})}});l=new m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./lib/zepto":"/home/ubuntu/workspace/src/lib/zepto.js","./services/env":"/home/ubuntu/workspace/src/services/env.js","./services/io":"/home/ubuntu/workspace/src/services/io.js","./services/log":"/home/ubuntu/workspace/src/services/log.js","./templates/app.html":"/home/ubuntu/workspace/src/templates/app.html","./views/file/algorithm":"/home/ubuntu/workspace/src/views/file/algorithm.js","./views/file/document":"/home/ubuntu/workspace/src/views/file/document.js","./views/file/flowchart":"/home/ubuntu/workspace/src/views/file/flowchart.js","./views/file/pdf":"/home/ubuntu/workspace/src/views/file/pdf.js","./views/modal":"/home/ubuntu/workspace/src/views/modal.js","./views/navigator/folder":"/home/ubuntu/workspace/src/views/navigator/folder.js","./views/navigator/top":"/home/ubuntu/workspace/src/views/navigator/top.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/node_modules/backdash/backbone.js":[function(require,module,exports){
!function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){t.Backbone=e(t,s,i,n)});else if("undefined"!=typeof exports){var i=require("lodash");e(t,exports,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,n){var s=t.Backbone,r=[],a=(r.push,r.slice);r.splice;e.VERSION="1.1.2",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var s=this,r=i.once(function(){s.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var s,r,a,o,h,c,l,d;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(o=t?[t]:i.keys(this._events),h=0,c=o.length;c>h;h++)if(t=o[h],a=this._events[t]){if(this._events[t]=s=[],e||n)for(l=0,d=a.length;d>l;l++)r=a[l],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&s.push(r);s.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,n){var s=this._listeningTo;if(!s)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((s={})[t._listenId]=t);for(var a in s)t=s[a],t.off(e,n,this),(r||i.isEmpty(t._events))&&delete this._listeningTo[a];return this}},h=/\s+/,u=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(h.test(i)){for(var r=i.split(h),a=0,o=r.length;o>a;a++)t[e].apply(t,[r[a]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}},l={listenTo:"on",listenToOnce:"once"};i.each(l,function(t,e){o[e]=function(e,n,s){var r=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=i.uniqueId("l"));return r[a]=e,s||"object"!=typeof n||(s=this),e[t](n,s,this),this}}),o.bind=o.on,o.unbind=o.off,i.extend(e,o);var d=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var s,r,a,o,h,u,c,l;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;a=n.unset,h=n.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={}),l=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)e=r[s],i.isEqual(l[s],e)||o.push(s),i.isEqual(c[s],e)?delete this.changed[s]:this.changed[s]=e,a?delete l[s]:l[s]=e;if(!h){o.length&&(this._pending=n);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,l[o[d]],n)}if(u)return this;if(!h)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in t)i.isEqual(s[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),void e.trigger("sync",e,i,t)):!1},U(this,t),this.sync("read",this,t)},save:function(t,e,n){var s,r,a,o=this.attributes;if(null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=i.extend({},o,s)),void 0===n.parse&&(n.parse=!0);var h=this,u=n.success;return n.success=function(t){h.attributes=o;var e=h.parse(t,n);return n.wait&&(e=i.extend(s||{},e)),i.isObject(e)&&!h.set(e,n)?!1:(u&&u(h,t,n),void h.trigger("sync",h,t,n))},U(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=s),a=this.sync(r,this,n),s&&n.wait&&(this.attributes=o),a},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&s(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;U(this,t);var r=this.sync("delete",this,t);return t.wait||s(),r},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||j();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};i.extend(p.prototype,o,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,v))},remove:function(t,e){var n=!i.isArray(t);t=n?[t]:i.clone(t),e||(e={});var s,r,a,o;for(s=0,r=t.length;r>s;s++)o=t[s]=this.get(t[s]),o&&(delete this._byId[o.id],delete this._byId[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,e.silent||(e.index=a,o.trigger("remove",o,this,e)),this._removeReference(o,e));return n?t[0]:t},set:function(t,e){e=i.defaults({},e,g),e.parse&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:i.clone(t);var s,r,a,o,h,u,c,l=e.at,f=this.model,p=this.comparator&&null==l&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null,m=[],y=[],_={},b=e.add,w=e.merge,x=e.remove,E=!p&&b&&x?[]:!1;for(s=0,r=t.length;r>s;s++){if(h=t[s]||{},a=h instanceof d?o=h:h[f.prototype.idAttribute||"id"],u=this.get(a))x&&(_[u.cid]=!0),w&&(h=h===o?o.attributes:h,e.parse&&(h=u.parse(h,e)),u.set(h,e),p&&!c&&u.hasChanged(v)&&(c=!0)),t[s]=u;else if(b){if(o=t[s]=this._prepareModel(h,e),!o)continue;m.push(o),this._addReference(o,e)}o=u||o,!E||!o.isNew()&&_[o.id]||E.push(o),_[o.id]=!0}if(x){for(s=0,r=this.length;r>s;++s)_[(o=this.models[s]).cid]||y.push(o);y.length&&this.remove(y,e)}if(m.length||E&&E.length)if(p&&(c=!0),this.length+=m.length,null!=l)for(s=0,r=m.length;r>s;s++)this.models.splice(l+s,0,m[s]);else{E&&(this.models.length=0);var k=E||m;for(s=0,r=k.length;r>s;s++)this.models.push(k[s])}if(c&&this.sort({silent:!0}),!e.silent){for(s=0,r=m.length;r>s;s++)(o=m[s]).trigger("add",o,this,e);(c||E&&E.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,s=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),s&&s(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(m,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(t){p.prototype[t]=function(e,n){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,n)}});var _=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];i.extend(_.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var s=e.match(b),r=s[1],a=s[2];n=i.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className"));var n=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,s){var r=E[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||j()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||s.emulateJSON||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var h=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,h,s),h};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,S=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(k.prototype,o,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(T,"(?:$1)?").replace($,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,R=/msie [\w.]+/,O=/\/$/,P=/#.*$/;A.started=!1,i.extend(A.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(O,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,r=R.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(n)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(P,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new A;var C=function(t,e){var n,s=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var r=function(){this.constructor=n};return r.prototype=s.prototype,n.prototype=new r,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};d.extend=p.extend=k.extend=_.extend=A.extend=C;var j=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}};return e});
},{"lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js":[function(require,module,exports){
(function(n){(function(){function t(n,t,r){for(var e=(r||0)-1,u=n?n.length:0;++e<u;)if(n[e]===t)return e;return-1}function r(n,r){var e=typeof r;if(n=n.cache,"boolean"==e||null==r)return n[r]?0:-1;"number"!=e&&"string"!=e&&(e="object");var u="number"==e?r:d+r;return n=(n=n[e])&&n[u],"object"==e?n&&t(n,r)>-1?0:-1:n?0:-1}function e(n){var t=this.cache,r=typeof n;if("boolean"==r||null==n)t[n]=!0;else{"number"!=r&&"string"!=r&&(r="object");var e="number"==r?n:d+n,u=t[r]||(t[r]={});"object"==r?(u[e]||(u[e]=[])).push(n):u[e]=!0}}function u(n){return n.charCodeAt(0)}function o(n,t){for(var r=n.criteria,e=t.criteria,u=-1,o=r.length;++u<o;){var a=r[u],i=e[u];if(a!==i){if(a>i||"undefined"==typeof a)return 1;if(i>a||"undefined"==typeof i)return-1}}return n.index-t.index}function a(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var i=l();i["false"]=i["null"]=i["true"]=i.undefined=!1;var f=l();for(f.array=n,f.cache=i,f.push=e;++t<r;)f.push(n[t]);return f}function i(n){return"\\"+H[n]}function f(){return g.pop()||[]}function l(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function c(n){n.length=0,g.length<_&&g.push(n)}function p(n){var t=n.cache;t&&p(t),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,y.length<_&&y.push(n)}function s(n,t,r){t||(t=0),"undefined"==typeof r&&(r=n?n.length:0);for(var e=-1,u=r-t||0,o=Array(0>u?0:u);++e<u;)o[e]=n[t+e];return o}function v(n){function e(n){return n&&"object"==typeof n&&!Yr(n)&&Tr.call(n,"__wrapped__")?n:new g(n)}function g(n,t){this.__chain__=!!t,this.__wrapped__=n}function y(n){function t(){if(e){var n=s(e);$r.apply(n,arguments)}if(this instanceof t){var o=H(r.prototype),a=r.apply(o,n||arguments);return Sn(a)?a:o}return r.apply(u,n||arguments)}var r=n[0],e=n[2],u=n[4];return Xr(t,n),t}function _(n,t,r,e,u){if(r){var o=r(n);if("undefined"!=typeof o)return o}var a=Sn(n);if(!a)return n;var i=Nr.call(n);if(!U[i])return n;var l=Jr[i];switch(i){case B:case W:return new l(+n);case z:case K:return new l(n);case P:return o=l(n.source,O.exec(n)),o.lastIndex=n.lastIndex,o}var p=Yr(n);if(t){var v=!e;e||(e=f()),u||(u=f());for(var h=e.length;h--;)if(e[h]==n)return u[h];o=p?l(n.length):{}}else o=p?s(n):oe({},n);return p&&(Tr.call(n,"index")&&(o.index=n.index),Tr.call(n,"input")&&(o.input=n.input)),t?(e.push(n),u.push(o),(p?Xn:fe)(n,function(n,a){o[a]=_(n,t,r,e,u)}),v&&(c(e),c(u)),o):o}function H(n,t){return Sn(n)?zr(n):{}}function Q(n,t,r){if("function"!=typeof n)return Yt;if("undefined"==typeof t||!("prototype"in n))return n;var e=n.__bindData__;if("undefined"==typeof e&&(Qr.funcNames&&(e=!n.name),e=e||!Qr.funcDecomp,!e)){var u=Ar.call(n);Qr.funcNames||(e=!N.test(u)),e||(e=S.test(u),Xr(n,e))}if(e===!1||e!==!0&&1&e[1])return n;switch(r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)}}return $t(n,t)}function X(n){function t(){var n=f?a:this;if(u){var h=s(u);$r.apply(h,arguments)}if((o||c)&&(h||(h=s(arguments)),o&&$r.apply(h,o),c&&h.length<i))return e|=16,X([r,p?e:-4&e,h,null,a,i]);if(h||(h=arguments),l&&(r=n[v]),this instanceof t){n=H(r.prototype);var g=r.apply(n,h);return Sn(g)?g:n}return r.apply(n,h)}var r=n[0],e=n[1],u=n[2],o=n[3],a=n[4],i=n[5],f=1&e,l=2&e,c=4&e,p=8&e,v=r;return Xr(t,n),t}function Y(n,e){var u=-1,o=ln(),i=n?n.length:0,f=i>=b&&o===t,l=[];if(f){var c=a(e);c?(o=r,e=c):f=!1}for(;++u<i;){var s=n[u];o(e,s)<0&&l.push(s)}return f&&p(e),l}function Z(n,t,r,e){for(var u=(e||0)-1,o=n?n.length:0,a=[];++u<o;){var i=n[u];if(i&&"object"==typeof i&&"number"==typeof i.length&&(Yr(i)||vn(i))){t||(i=Z(i,t,r));var f=-1,l=i.length,c=a.length;for(a.length+=l;++f<l;)a[c++]=i[f]}else r||a.push(i)}return a}function tn(n,t,r,e,u,o){if(r){var a=r(n,t);if("undefined"!=typeof a)return!!a}if(n===t)return 0!==n||1/n==1/t;var i=typeof n,l=typeof t;if(!(n!==n||n&&G[i]||t&&G[l]))return!1;if(null==n||null==t)return n===t;var p=Nr.call(n),s=Nr.call(t);if(p==$&&(p=L),s==$&&(s=L),p!=s)return!1;switch(p){case B:case W:return+n==+t;case z:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case P:case K:return n==jr(t)}var v=p==F;if(!v){var h=Tr.call(n,"__wrapped__"),g=Tr.call(t,"__wrapped__");if(h||g)return tn(h?n.__wrapped__:n,g?t.__wrapped__:t,r,e,u,o);if(p!=L)return!1;var y=n.constructor,m=t.constructor;if(y!=m&&!(In(y)&&y instanceof y&&In(m)&&m instanceof m)&&"constructor"in n&&"constructor"in t)return!1}var d=!u;u||(u=f()),o||(o=f());for(var b=u.length;b--;)if(u[b]==n)return o[b]==t;var _=0;if(a=!0,u.push(n),o.push(t),v){if(b=n.length,_=t.length,a=_==b,a||e)for(;_--;){var w=b,j=t[_];if(e)for(;w--&&!(a=tn(n[w],j,r,e,u,o)););else if(!(a=tn(n[_],j,r,e,u,o)))break}}else ie(t,function(t,i,f){return Tr.call(f,i)?(_++,a=Tr.call(n,i)&&tn(n[i],t,r,e,u,o)):void 0}),a&&!e&&ie(n,function(n,t,r){return Tr.call(r,t)?a=--_>-1:void 0});return u.pop(),o.pop(),d&&(c(u),c(o)),a}function rn(n,t,r,e,u){(Yr(t)?Xn:fe)(t,function(t,o){var a,i,f=t,l=n[o];if(t&&((i=Yr(t))||le(t))){for(var c=e.length;c--;)if(a=e[c]==t){l=u[c];break}if(!a){var p;r&&(f=r(l,t),(p="undefined"!=typeof f)&&(l=f)),p||(l=i?Yr(l)?l:[]:le(l)?l:{}),e.push(t),u.push(l),p||rn(l,t,r,e,u)}}else r&&(f=r(l,t),"undefined"==typeof f&&(f=t)),"undefined"!=typeof f&&(l=f);n[o]=l})}function en(n,t){return n+Sr(Hr()*(t-n+1))}function un(n,e,u){var o=-1,i=ln(),l=n?n.length:0,s=[],v=!e&&l>=b&&i===t,h=u||v?f():s;if(v){var g=a(h);i=r,h=g}for(;++o<l;){var y=n[o],m=u?u(y,o,n):y;(e?!o||h[h.length-1]!==m:i(h,m)<0)&&((u||v)&&h.push(m),s.push(y))}return v?(c(h.array),p(h)):u&&c(h),s}function on(n){return function(t,r,u){var o={};r=e.createCallback(r,u,3);var a=-1,i=t?t.length:0;if("number"==typeof i)for(;++a<i;){var f=t[a];n(o,f,r(f,a,t),t)}else fe(t,function(t,e,u){n(o,t,r(t,e,u),u)});return o}}function an(n,t,r,e,u,o){var a=1&t,i=2&t,f=4&t,l=16&t,c=32&t;if(!i&&!In(n))throw new kr;l&&!r.length&&(t&=-17,l=r=!1),c&&!e.length&&(t&=-33,c=e=!1);var p=n&&n.__bindData__;if(p&&p!==!0)return p=s(p),p[2]&&(p[2]=s(p[2])),p[3]&&(p[3]=s(p[3])),!a||1&p[1]||(p[4]=u),!a&&1&p[1]&&(t|=8),!f||4&p[1]||(p[5]=o),l&&$r.apply(p[2]||(p[2]=[]),r),c&&Wr.apply(p[3]||(p[3]=[]),e),p[1]|=t,an.apply(null,p);var v=1==t||17===t?y:X;return v([n,t,r,e,u,o])}function fn(n){return te[n]}function ln(){var n=(n=e.indexOf)===dt?t:n;return n}function cn(n){return"function"==typeof n&&Rr.test(n)}function pn(n){var t,r;return n&&Nr.call(n)==L&&(t=n.constructor,!In(t)||t instanceof t)?(ie(n,function(n,t){r=t}),"undefined"==typeof r||Tr.call(n,r)):!1}function sn(n){return re[n]}function vn(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Nr.call(n)==$||!1}function hn(n,t,r,e){return"boolean"!=typeof t&&null!=t&&(e=r,r=t,t=!1),_(n,t,"function"==typeof r&&Q(r,e,1))}function gn(n,t,r){return _(n,!0,"function"==typeof t&&Q(t,r,1))}function yn(n,t){var r=H(n);return t?oe(r,t):r}function mn(n,t,r){var u;return t=e.createCallback(t,r,3),fe(n,function(n,r,e){return t(n,r,e)?(u=r,!1):void 0}),u}function dn(n,t,r){var u;return t=e.createCallback(t,r,3),_n(n,function(n,r,e){return t(n,r,e)?(u=r,!1):void 0}),u}function bn(n,t,r){var e=[];ie(n,function(n,t){e.push(t,n)});var u=e.length;for(t=Q(t,r,3);u--&&t(e[u--],e[u],n)!==!1;);return n}function _n(n,t,r){var e=ne(n),u=e.length;for(t=Q(t,r,3);u--;){var o=e[u];if(t(n[o],o,n)===!1)break}return n}function wn(n){var t=[];return ie(n,function(n,r){In(n)&&t.push(r)}),t.sort()}function jn(n,t){return n?Tr.call(n,t):!1}function kn(n){for(var t=-1,r=ne(n),e=r.length,u={};++t<e;){var o=r[t];u[n[o]]=o}return u}function xn(n){return n===!0||n===!1||n&&"object"==typeof n&&Nr.call(n)==B||!1}function Cn(n){return n&&"object"==typeof n&&Nr.call(n)==W||!1}function On(n){return n&&1===n.nodeType||!1}function Nn(n){var t=!0;if(!n)return t;var r=Nr.call(n),e=n.length;return r==F||r==K||r==$||r==L&&"number"==typeof e&&In(n.splice)?!e:(fe(n,function(){return t=!1}),t)}function Rn(n,t,r,e){return tn(n,t,"function"==typeof r&&Q(r,e,2))}function En(n){return Pr(n)&&!Kr(parseFloat(n))}function In(n){return"function"==typeof n}function Sn(n){return!(!n||!G[typeof n])}function An(n){return Tn(n)&&n!=+n}function Dn(n){return null===n}function Tn(n){return"number"==typeof n||n&&"object"==typeof n&&Nr.call(n)==z||!1}function $n(n){return n&&"object"==typeof n&&Nr.call(n)==P||!1}function Fn(n){return"string"==typeof n||n&&"object"==typeof n&&Nr.call(n)==K||!1}function Bn(n){return"undefined"==typeof n}function Wn(n,t,r){var u={};return t=e.createCallback(t,r,3),fe(n,function(n,r,e){u[r]=t(n,r,e)}),u}function qn(n){var t=arguments,r=2;if(!Sn(n))return n;if("number"!=typeof t[2]&&(r=t.length),r>3&&"function"==typeof t[r-2])var e=Q(t[--r-1],t[r--],2);else r>2&&"function"==typeof t[r-1]&&(e=t[--r]);for(var u=s(arguments,1,r),o=-1,a=f(),i=f();++o<r;)rn(n,u[o],e,a,i);return c(a),c(i),n}function zn(n,t,r){var u={};if("function"!=typeof t){var o=[];ie(n,function(n,t){o.push(t)}),o=Y(o,Z(arguments,!0,!1,1));for(var a=-1,i=o.length;++a<i;){var f=o[a];u[f]=n[f]}}else t=e.createCallback(t,r,3),ie(n,function(n,r,e){t(n,r,e)||(u[r]=n)});return u}function Ln(n){for(var t=-1,r=ne(n),e=r.length,u=hr(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u}function Pn(n,t,r){var u={};if("function"!=typeof t)for(var o=-1,a=Z(arguments,!0,!1,1),i=Sn(n)?a.length:0;++o<i;){var f=a[o];f in n&&(u[f]=n[f])}else t=e.createCallback(t,r,3),ie(n,function(n,r,e){t(n,r,e)&&(u[r]=n)});return u}function Kn(n,t,r,u){var o=Yr(n);if(null==r)if(o)r=[];else{var a=n&&n.constructor,i=a&&a.prototype;r=H(i)}return t&&(t=e.createCallback(t,u,4),(o?Xn:fe)(n,function(n,e,u){return t(r,n,e,u)})),r}function Un(n){for(var t=-1,r=ne(n),e=r.length,u=hr(e);++t<e;)u[t]=n[r[t]];return u}function Mn(n){for(var t=arguments,r=-1,e=Z(t,!0,!1,1),u=t[2]&&t[2][t[1]]===n?1:e.length,o=hr(u);++r<u;)o[r]=n[e[r]];return o}function Vn(n,t,r){var e=-1,u=ln(),o=n?n.length:0,a=!1;return r=(0>r?Mr(0,o+r):r)||0,Yr(n)?a=u(n,t,r)>-1:"number"==typeof o?a=(Fn(n)?n.indexOf(t,r):u(n,t,r))>-1:fe(n,function(n){return++e>=r?!(a=n===t):void 0}),a}function Gn(n,t,r){var u=!0;t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a&&(u=!!t(n[o],o,n)););else fe(n,function(n,r,e){return u=!!t(n,r,e)});return u}function Hn(n,t,r){var u=[];t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a;){var i=n[o];t(i,o,n)&&u.push(i)}else fe(n,function(n,r,e){t(n,r,e)&&u.push(n)});return u}function Jn(n,t,r){t=e.createCallback(t,r,3);var u=-1,o=n?n.length:0;if("number"!=typeof o){var a;return fe(n,function(n,r,e){return t(n,r,e)?(a=n,!1):void 0}),a}for(;++u<o;){var i=n[u];if(t(i,u,n))return i}}function Qn(n,t,r){var u;return t=e.createCallback(t,r,3),Yn(n,function(n,r,e){return t(n,r,e)?(u=n,!1):void 0}),u}function Xn(n,t,r){var e=-1,u=n?n.length:0;if(t=t&&"undefined"==typeof r?t:Q(t,r,3),"number"==typeof u)for(;++e<u&&t(n[e],e,n)!==!1;);else fe(n,t);return n}function Yn(n,t,r){var e=n?n.length:0;if(t=t&&"undefined"==typeof r?t:Q(t,r,3),"number"==typeof e)for(;e--&&t(n[e],e,n)!==!1;);else{var u=ne(n);e=u.length,fe(n,function(n,r,o){return r=u?u[--e]:--e,t(o[r],r,o)})}return n}function Zn(n,t){var r=s(arguments,2),e=-1,u="function"==typeof t,o=n?n.length:0,a=hr("number"==typeof o?o:0);return Xn(n,function(n){a[++e]=(u?t:n[t]).apply(n,r)}),a}function nt(n,t,r){var u=-1,o=n?n.length:0;if(t=e.createCallback(t,r,3),"number"==typeof o)for(var a=hr(o);++u<o;)a[u]=t(n[u],u,n);else a=[],fe(n,function(n,r,e){a[++u]=t(n,r,e)});return a}function tt(n,t,r){var o=-(1/0),a=o;if("function"!=typeof t&&r&&r[t]===n&&(t=null),null==t&&Yr(n))for(var i=-1,f=n.length;++i<f;){var l=n[i];l>a&&(a=l)}else t=null==t&&Fn(n)?u:e.createCallback(t,r,3),Xn(n,function(n,r,e){var u=t(n,r,e);u>o&&(o=u,a=n)});return a}function rt(n,t,r){var o=1/0,a=o;if("function"!=typeof t&&r&&r[t]===n&&(t=null),null==t&&Yr(n))for(var i=-1,f=n.length;++i<f;){var l=n[i];a>l&&(a=l)}else t=null==t&&Fn(n)?u:e.createCallback(t,r,3),Xn(n,function(n,r,e){var u=t(n,r,e);o>u&&(o=u,a=n)});return a}function et(n,t,r,u){if(!n)return r;var o=arguments.length<3;t=e.createCallback(t,u,4);var a=-1,i=n.length;if("number"==typeof i)for(o&&(r=n[++a]);++a<i;)r=t(r,n[a],a,n);else fe(n,function(n,e,u){r=o?(o=!1,n):t(r,n,e,u)});return r}function ut(n,t,r,u){var o=arguments.length<3;return t=e.createCallback(t,u,4),Yn(n,function(n,e,u){r=o?(o=!1,n):t(r,n,e,u)}),r}function ot(n,t,r){return t=e.createCallback(t,r,3),Hn(n,function(n,r,e){return!t(n,r,e)})}function at(n,t,r){if(n&&"number"!=typeof n.length&&(n=Un(n)),null==t||r)return n?n[en(0,n.length-1)]:h;var e=it(n);return e.length=Vr(Mr(0,t),e.length),e}function it(n){var t=-1,r=n?n.length:0,e=hr("number"==typeof r?r:0);return Xn(n,function(n){var r=en(0,++t);e[t]=e[r],e[r]=n}),e}function ft(n){var t=n?n.length:0;return"number"==typeof t?t:ne(n).length}function lt(n,t,r){var u;t=e.createCallback(t,r,3);var o=-1,a=n?n.length:0;if("number"==typeof a)for(;++o<a&&!(u=t(n[o],o,n)););else fe(n,function(n,r,e){return!(u=t(n,r,e))});return!!u}function ct(n,t,r){var u=-1,a=Yr(t),i=n?n.length:0,s=hr("number"==typeof i?i:0);for(a||(t=e.createCallback(t,r,3)),Xn(n,function(n,r,e){var o=s[++u]=l();a?o.criteria=nt(t,function(t){return n[t]}):(o.criteria=f())[0]=t(n,r,e),o.index=u,o.value=n}),i=s.length,s.sort(o);i--;){var v=s[i];s[i]=v.value,a||c(v.criteria),p(v)}return s}function pt(n){return n&&"number"==typeof n.length?s(n):Un(n)}function st(n){for(var t=-1,r=n?n.length:0,e=[];++t<r;){var u=n[t];u&&e.push(u)}return e}function vt(n){return Y(n,Z(arguments,!0,!0,1))}function ht(n,t,r){var u=-1,o=n?n.length:0;for(t=e.createCallback(t,r,3);++u<o;)if(t(n[u],u,n))return u;return-1}function gt(n,t,r){var u=n?n.length:0;for(t=e.createCallback(t,r,3);u--;)if(t(n[u],u,n))return u;return-1}function yt(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=e.createCallback(t,r,3);++a<o&&t(n[a],a,n);)u++}else if(u=t,null==u||r)return n?n[0]:h;return s(n,0,Vr(Mr(0,u),o))}function mt(n,t,r,e){return"boolean"!=typeof t&&null!=t&&(e=r,r="function"!=typeof t&&e&&e[t]===n?null:t,t=!1),null!=r&&(n=nt(n,r,e)),Z(n,t)}function dt(n,r,e){if("number"==typeof e){var u=n?n.length:0;e=0>e?Mr(0,u+e):e||0}else if(e){var o=Nt(n,r);return n[o]===r?o:-1}return t(n,r,e)}function bt(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=e.createCallback(t,r,3);a--&&t(n[a],a,n);)u++}else u=null==t||r?1:t||u;return s(n,0,Vr(Mr(0,o-u),o))}function _t(){for(var n=[],e=-1,u=arguments.length,o=f(),i=ln(),l=i===t,s=f();++e<u;){var v=arguments[e];(Yr(v)||vn(v))&&(n.push(v),o.push(l&&v.length>=b&&a(e?n[e]:s)))}var h=n[0],g=-1,y=h?h.length:0,m=[];n:for(;++g<y;){var d=o[0];if(v=h[g],(d?r(d,v):i(s,v))<0){for(e=u,(d||s).push(v);--e;)if(d=o[e],(d?r(d,v):i(n[e],v))<0)continue n;m.push(v)}}for(;u--;)d=o[u],d&&p(d);return c(o),c(s),m}function wt(n,t,r){var u=0,o=n?n.length:0;if("number"!=typeof t&&null!=t){var a=o;for(t=e.createCallback(t,r,3);a--&&t(n[a],a,n);)u++}else if(u=t,null==u||r)return n?n[o-1]:h;return s(n,Mr(0,o-u))}function jt(n,t,r){var e=n?n.length:0;for("number"==typeof r&&(e=(0>r?Mr(0,e+r):Vr(r,e-1))+1);e--;)if(n[e]===t)return e;return-1}function kt(n){for(var t=arguments,r=0,e=t.length,u=n?n.length:0;++r<e;)for(var o=-1,a=t[r];++o<u;)n[o]===a&&(Br.call(n,o--,1),u--);return n}function xt(n,t,r){n=+n||0,r="number"==typeof r?r:+r||1,null==t&&(t=n,n=0);for(var e=-1,u=Mr(0,Er((t-n)/(r||1))),o=hr(u);++e<u;)o[e]=n,n+=r;return o}function Ct(n,t,r){var u=-1,o=n?n.length:0,a=[];for(t=e.createCallback(t,r,3);++u<o;){var i=n[u];t(i,u,n)&&(a.push(i),Br.call(n,u--,1),o--)}return a}function Ot(n,t,r){if("number"!=typeof t&&null!=t){var u=0,o=-1,a=n?n.length:0;for(t=e.createCallback(t,r,3);++o<a&&t(n[o],o,n);)u++}else u=null==t||r?1:Mr(0,t);return s(n,u)}function Nt(n,t,r,u){var o=0,a=n?n.length:o;for(r=r?e.createCallback(r,u,1):Yt,t=r(t);a>o;){var i=o+a>>>1;r(n[i])<t?o=i+1:a=i}return o}function Rt(){return un(Z(arguments,!0,!0))}function Et(n,t,r,u){return"boolean"!=typeof t&&null!=t&&(u=r,r="function"!=typeof t&&u&&u[t]===n?null:t,t=!1),null!=r&&(r=e.createCallback(r,u,3)),un(n,t,r)}function It(n){return Y(n,s(arguments,1))}function St(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Yr(r)||vn(r))var e=e?un(Y(e,r).concat(Y(r,e))):r}return e||[]}function At(){for(var n=arguments.length>1?arguments:arguments[0],t=-1,r=n?tt(ve(n,"length")):0,e=hr(0>r?0:r);++t<r;)e[t]=ve(n,t);return e}function Dt(n,t){var r=-1,e=n?n.length:0,u={};for(t||!e||Yr(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Tt(n,t){if(!In(t))throw new kr;return function(){return--n<1?t.apply(this,arguments):void 0}}function $t(n,t){return arguments.length>2?an(n,17,s(arguments,2),null,t):an(n,1,null,null,t)}function Ft(n){for(var t=arguments.length>1?Z(arguments,!0,!1,1):wn(n),r=-1,e=t.length;++r<e;){var u=t[r];n[u]=an(n[u],1,null,null,n)}return n}function Bt(n,t){return arguments.length>2?an(t,19,s(arguments,2),null,n):an(t,3,null,null,n)}function Wt(){for(var n=arguments,t=n.length;t--;)if(!In(n[t]))throw new kr;return function(){for(var t=arguments,r=n.length;r--;)t=[n[r].apply(this,t)];return t[0]}}function qt(n,t){return t="number"==typeof t?t:+t||n.length,an(n,4,null,null,null,t)}function zt(n,t,r){var e,u,o,a,i,f,l,c=0,p=!1,s=!0;if(!In(n))throw new kr;if(t=Mr(0,t)||0,r===!0){var v=!0;s=!1}else Sn(r)&&(v=r.leading,p="maxWait"in r&&(Mr(t,r.maxWait)||0),s="trailing"in r?r.trailing:s);var g=function(){var r=t-(ge()-a);if(0>=r){u&&Ir(u);var p=l;u=f=l=h,p&&(c=ge(),o=n.apply(i,e),f||u||(e=i=null))}else f=Fr(g,r)},y=function(){f&&Ir(f),u=f=l=h,(s||p!==t)&&(c=ge(),o=n.apply(i,e),f||u||(e=i=null))};return function(){if(e=arguments,a=ge(),i=this,l=s&&(f||!v),p===!1)var r=v&&!f;else{u||v||(c=a);var h=p-(a-c),m=0>=h;m?(u&&(u=Ir(u)),c=a,o=n.apply(i,e)):u||(u=Fr(y,h))}return m&&f?f=Ir(f):f||t===p||(f=Fr(g,t)),r&&(m=!0,o=n.apply(i,e)),!m||f||u||(e=i=null),o}}function Lt(n){if(!In(n))throw new kr;var t=s(arguments,1);return Fr(function(){n.apply(h,t)},1)}function Pt(n,t){if(!In(n))throw new kr;var r=s(arguments,2);return Fr(function(){n.apply(h,r)},t)}function Kt(n,t){if(!In(n))throw new kr;var r=function(){var e=r.cache,u=t?t.apply(this,arguments):d+arguments[0];return Tr.call(e,u)?e[u]:e[u]=n.apply(this,arguments)};return r.cache={},r}function Ut(n){var t,r;if(!In(n))throw new kr;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}}function Mt(n){return an(n,16,s(arguments,1))}function Vt(n){return an(n,32,null,s(arguments,1))}function Gt(n,t,r){var e=!0,u=!0;if(!In(n))throw new kr;return r===!1?e=!1:Sn(r)&&(e="leading"in r?r.leading:e,u="trailing"in r?r.trailing:u),M.leading=e,M.maxWait=t,M.trailing=u,zt(n,t,M)}function Ht(n,t){return an(t,16,[n])}function Jt(n){return function(){return n}}function Qt(n,t,r){var e=typeof n;if(null==n||"function"==e)return Q(n,t,r);if("object"!=e)return rr(n);var u=ne(n),o=u[0],a=n[o];return 1!=u.length||a!==a||Sn(a)?function(t){for(var r=u.length,e=!1;r--&&(e=tn(t[u[r]],n[u[r]],null,!0)););return e}:function(n){var t=n[o];return a===t&&(0!==a||1/a==1/t)}}function Xt(n){return null==n?"":jr(n).replace(ue,fn)}function Yt(n){return n}function Zt(n,t,r){var u=!0,o=t&&wn(t);t&&(r||o.length)||(null==r&&(r=t),a=g,t=n,n=e,o=wn(t)),r===!1?u=!1:Sn(r)&&"chain"in r&&(u=r.chain);var a=n,i=In(a);Xn(o,function(r){var e=n[r]=t[r];i&&(a.prototype[r]=function(){var t=this.__chain__,r=this.__wrapped__,o=[r];$r.apply(o,arguments);var i=e.apply(n,o);if(u||t){if(r===i&&Sn(i))return this;i=new a(i),i.__chain__=t}return i})})}function nr(){return n._=Or,this}function tr(){}function rr(n){return function(t){return t[n]}}function er(n,t,r){var e=null==n,u=null==t;if(null==r&&("boolean"==typeof n&&u?(r=n,n=1):u||"boolean"!=typeof t||(r=t,u=!0)),e&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var o=Hr();return Vr(n+o*(t-n+parseFloat("1e-"+((o+"").length-1))),t)}return en(n,t)}function ur(n,t){if(n){var r=n[t];return In(r)?n[t]():r}}function or(n,t,r){var u=e.templateSettings;n=jr(n||""),r=ae({},r,u);var o,a=ae({},r.imports,u.imports),f=ne(a),l=Un(a),c=0,p=r.interpolate||I,s="__p += '",v=wr((r.escape||I).source+"|"+p.source+"|"+(p===R?C:I).source+"|"+(r.evaluate||I).source+"|$","g");n.replace(v,function(t,r,e,u,a,f){return e||(e=u),s+=n.slice(c,f).replace(A,i),r&&(s+="' +\n__e("+r+") +\n'"),a&&(o=!0,s+="';\n"+a+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=f+t.length,t}),s+="';\n";var g=r.variable,y=g;y||(g="obj",s="with ("+g+") {\n"+s+"\n}\n"),s=(o?s.replace(j,""):s).replace(k,"$1").replace(x,"$1;"),s="function("+g+") {\n"+(y?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var d=mr(f,"return "+s+m).apply(h,l)}catch(b){throw b.source=s,b}return t?d(t):(d.source=s,d)}function ar(n,t,r){n=(n=+n)>-1?n:0;var e=-1,u=hr(n);for(t=Q(t,r,1);++e<n;)u[e]=t(e);return u}function ir(n){return null==n?"":jr(n).replace(ee,sn)}function fr(n){var t=++m;return jr(null==n?"":n)+t}function lr(n){return n=new g(n),n.__chain__=!0,n}function cr(n,t){return t(n),n}function pr(){return this.__chain__=!0,this}function sr(){return jr(this.__wrapped__)}function vr(){return this.__wrapped__}n=n?nn.defaults(J.Object(),n,nn.pick(J,D)):J;var hr=n.Array,gr=n.Boolean,yr=n.Date,mr=n.Function,dr=n.Math,br=n.Number,_r=n.Object,wr=n.RegExp,jr=n.String,kr=n.TypeError,xr=[],Cr=_r.prototype,Or=n._,Nr=Cr.toString,Rr=wr("^"+jr(Nr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Er=dr.ceil,Ir=n.clearTimeout,Sr=dr.floor,Ar=mr.prototype.toString,Dr=cn(Dr=_r.getPrototypeOf)&&Dr,Tr=Cr.hasOwnProperty,$r=xr.push,Fr=n.setTimeout,Br=xr.splice,Wr=xr.unshift,qr=function(){try{var n={},t=cn(t=_r.defineProperty)&&t,r=t(n,n,n)&&t}catch(e){}return r}(),zr=cn(zr=_r.create)&&zr,Lr=cn(Lr=hr.isArray)&&Lr,Pr=n.isFinite,Kr=n.isNaN,Ur=cn(Ur=_r.keys)&&Ur,Mr=dr.max,Vr=dr.min,Gr=n.parseInt,Hr=dr.random,Jr={};Jr[F]=hr,Jr[B]=gr,Jr[W]=yr,Jr[q]=mr,Jr[L]=_r,Jr[z]=br,Jr[P]=wr,Jr[K]=jr,g.prototype=e.prototype;var Qr=e.support={};Qr.funcDecomp=!cn(n.WinRTError)&&S.test(v),Qr.funcNames="string"==typeof mr.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:e}},zr||(H=function(){function t(){}return function(r){if(Sn(r)){t.prototype=r;var e=new t;t.prototype=null}return e||n.Object()}}());var Xr=qr?function(n,t){V.value=t,qr(n,"__bindData__",V)}:tr,Yr=Lr||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Nr.call(n)==F||!1},Zr=function(n){var t,r=n,e=[];if(!r)return e;if(!G[typeof n])return e;for(t in r)Tr.call(r,t)&&e.push(t);return e},ne=Ur?function(n){return Sn(n)?Ur(n):[]}:Zr,te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re=kn(te),ee=wr("("+ne(re).join("|")+")","g"),ue=wr("["+ne(te).join("")+"]","g"),oe=function(n,t,r){var e,u=n,o=u;if(!u)return o;var a=arguments,i=0,f="number"==typeof r?2:a.length;if(f>3&&"function"==typeof a[f-2])var l=Q(a[--f-1],a[f--],2);else f>2&&"function"==typeof a[f-1]&&(l=a[--f]);for(;++i<f;)if(u=a[i],u&&G[typeof u])for(var c=-1,p=G[typeof u]&&ne(u),s=p?p.length:0;++c<s;)e=p[c],o[e]=l?l(o[e],u[e]):u[e];return o},ae=function(n,t,r){var e,u=n,o=u;if(!u)return o;for(var a=arguments,i=0,f="number"==typeof r?2:a.length;++i<f;)if(u=a[i],u&&G[typeof u])for(var l=-1,c=G[typeof u]&&ne(u),p=c?c.length:0;++l<p;)e=c[l],"undefined"==typeof o[e]&&(o[e]=u[e]);return o},ie=function(n,t,r){var e,u=n,o=u;if(!u)return o;if(!G[typeof u])return o;t=t&&"undefined"==typeof r?t:Q(t,r,3);for(e in u)if(t(u[e],e,n)===!1)return o;return o},fe=function(n,t,r){var e,u=n,o=u;if(!u)return o;if(!G[typeof u])return o;t=t&&"undefined"==typeof r?t:Q(t,r,3);for(var a=-1,i=G[typeof u]&&ne(u),f=i?i.length:0;++a<f;)if(e=i[a],t(u[e],e,n)===!1)return o;return o},le=Dr?function(n){if(!n||Nr.call(n)!=L)return!1;var t=n.valueOf,r=cn(t)&&(r=Dr(t))&&Dr(r);return r?n==r||Dr(n)==r:pn(n)}:pn,ce=on(function(n,t,r){Tr.call(n,r)?n[r]++:n[r]=1}),pe=on(function(n,t,r){(Tr.call(n,r)?n[r]:n[r]=[]).push(t)}),se=on(function(n,t,r){n[r]=t}),ve=nt,he=Hn,ge=cn(ge=yr.now)&&ge||function(){return(new yr).getTime()},ye=8==Gr(w+"08")?Gr:function(n,t){return Gr(Fn(n)?n.replace(E,""):n,t||0)};return e.after=Tt,e.assign=oe,e.at=Mn,e.bind=$t,e.bindAll=Ft,e.bindKey=Bt,e.chain=lr,e.compact=st,e.compose=Wt,e.constant=Jt,e.countBy=ce,e.create=yn,e.createCallback=Qt,e.curry=qt,e.debounce=zt,e.defaults=ae,e.defer=Lt,e.delay=Pt,e.difference=vt,e.filter=Hn,e.flatten=mt,e.forEach=Xn,e.forEachRight=Yn,e.forIn=ie,e.forInRight=bn,e.forOwn=fe,e.forOwnRight=_n,e.functions=wn,e.groupBy=pe,e.indexBy=se,e.initial=bt,e.intersection=_t,e.invert=kn,e.invoke=Zn,e.keys=ne,e.map=nt,e.mapValues=Wn,e.max=tt,e.memoize=Kt,e.merge=qn,e.min=rt,e.omit=zn,e.once=Ut,e.pairs=Ln,e.partial=Mt,e.partialRight=Vt,e.pick=Pn,e.pluck=ve,e.property=rr,e.pull=kt,e.range=xt,e.reject=ot,e.remove=Ct,e.rest=Ot,e.shuffle=it,e.sortBy=ct,e.tap=cr,e.throttle=Gt,e.times=ar,e.toArray=pt,e.transform=Kn,e.union=Rt,e.uniq=Et,e.values=Un,e.where=he,e.without=It,e.wrap=Ht,e.xor=St,e.zip=At,e.zipObject=Dt,e.collect=nt,e.drop=Ot,e.each=Xn,e.eachRight=Yn,e.extend=oe,e.methods=wn,e.object=Dt,e.select=Hn,e.tail=Ot,e.unique=Et,e.unzip=At,Zt(e),e.clone=hn,e.cloneDeep=gn,e.contains=Vn,e.escape=Xt,e.every=Gn,e.find=Jn,e.findIndex=ht,e.findKey=mn,e.findLast=Qn,e.findLastIndex=gt,e.findLastKey=dn,e.has=jn,e.identity=Yt,e.indexOf=dt,e.isArguments=vn,e.isArray=Yr,e.isBoolean=xn,e.isDate=Cn,e.isElement=On,e.isEmpty=Nn,e.isEqual=Rn,e.isFinite=En,e.isFunction=In,e.isNaN=An,e.isNull=Dn,e.isNumber=Tn,e.isObject=Sn,e.isPlainObject=le,e.isRegExp=$n,e.isString=Fn,e.isUndefined=Bn,e.lastIndexOf=jt,e.mixin=Zt,e.noConflict=nr,e.noop=tr,e.now=ge,e.parseInt=ye,e.random=er,e.reduce=et,e.reduceRight=ut,e.result=ur,e.runInContext=v,e.size=ft,e.some=lt,e.sortedIndex=Nt,e.template=or,e.unescape=ir,e.uniqueId=fr,e.all=Gn,e.any=lt,e.detect=Jn,e.findWhere=Jn,e.foldl=et,e.foldr=ut,e.include=Vn,e.inject=et,Zt(function(){var n={};return fe(e,function(t,r){e.prototype[r]||(n[r]=t)}),n}(),!1),e.first=yt,e.last=wt,e.sample=at,e.take=yt,e.head=yt,fe(e,function(n,t){var r="sample"!==t;e.prototype[t]||(e.prototype[t]=function(t,e){var u=this.__chain__,o=n(this.__wrapped__,t,e);return u||null!=t&&(!e||r&&"function"==typeof t)?new g(o,u):o})}),e.VERSION="2.4.1",e.prototype.chain=pr,e.prototype.toString=sr,e.prototype.value=vr,e.prototype.valueOf=vr,Xn(["join","pop","shift"],function(n){var t=xr[n];e.prototype[n]=function(){var n=this.__chain__,r=t.apply(this.__wrapped__,arguments);return n?new g(r,n):r}}),Xn(["push","reverse","sort","unshift"],function(n){var t=xr[n];e.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xn(["concat","slice","splice"],function(n){var t=xr[n];e.prototype[n]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var h,g=[],y=[],m=0,d=+new Date+"",b=75,_=40,w=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",j=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,O=/\w*$/,N=/^\s*function[ \n\r\t]+\w/,R=/<%=([\s\S]+?)%>/g,E=RegExp("^["+w+"]*0+(?=.$)"),I=/($^)/,S=/\bthis\b/,A=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],T=0,$="[object Arguments]",F="[object Array]",B="[object Boolean]",W="[object Date]",q="[object Function]",z="[object Number]",L="[object Object]",P="[object RegExp]",K="[object String]",U={};U[q]=!1,U[$]=U[F]=U[B]=U[W]=U[z]=U[L]=U[P]=U[K]=!0;var M={leading:!1,maxWait:0,trailing:!1},V={configurable:!1,enumerable:!1,value:null,writable:!1},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},H={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},J=G[typeof window]&&window||this,Q=G[typeof exports]&&exports&&!exports.nodeType&&exports,X=G[typeof module]&&module&&!module.nodeType&&module,Y=X&&X.exports===Q&&Q,Z=G[typeof n]&&n;!Z||Z.global!==Z&&Z.window!==Z||(J=Z);var nn=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=nn,define(function(){return nn})):Q&&X?Y?(X.exports=nn)._=nn:Q._=nn:J._=nn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],"/home/ubuntu/workspace/node_modules/ua-parser-js/src/ua-parser.js":[function(require,module,exports){
!function(i,e){"use strict";var s="0.7.3",o="",r="?",n="function",a="undefined",t="object",w="major",d="model",l="name",c="type",p="vendor",m="version",u="architecture",f="console",g="mobile",h="tablet",b="smarttv",v="wearable",x="embedded",k={extend:function(i,e){for(var s in e)-1!=="browser cpu device engine os".indexOf(s)&&e[s].length%2===0&&(i[s]=e[s].concat(i[s]));return i},has:function(i,e){return"string"==typeof i?-1!==e.toLowerCase().indexOf(i.toLowerCase()):void 0},lowerize:function(i){return i.toLowerCase()}},y={rgx:function(){for(var i,s,o,r,w,d,l,c=0,p=arguments;c<p.length&&!d;){var m=p[c],u=p[c+1];if(typeof i===a){i={};for(r in u)w=u[r],typeof w===t?i[w[0]]=e:i[w]=e}for(s=o=0;s<m.length&&!d;)if(d=m[s++].exec(this.getUA()))for(r=0;r<u.length;r++)l=d[++o],w=u[r],typeof w===t&&w.length>0?2==w.length?typeof w[1]==n?i[w[0]]=w[1].call(this,l):i[w[0]]=w[1]:3==w.length?typeof w[1]!==n||w[1].exec&&w[1].test?i[w[0]]=l?l.replace(w[1],w[2]):e:i[w[0]]=l?w[1].call(this,l,w[2]):e:4==w.length&&(i[w[0]]=l?w[3].call(this,l.replace(w[1],w[2])):e):i[w]=l?l:e;c+=2}return i},str:function(i,s){for(var o in s)if(typeof s[o]===t&&s[o].length>0){for(var n=0;n<s[o].length;n++)if(k.has(s[o][n],i))return o===r?e:o}else if(k.has(s[o],i))return o===r?e:o;return i}},A={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:"NT 6.4",RT:"ARM"}}}},E={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[l,m,w],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[l,"Opera"],m,w],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[l,m,w],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[l,"IE"],m,w],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[l,"Yandex"],m,w],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[l,/_/g," "],m,w],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[l,m,w],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[l,"Dolphin"],m,w],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[l,"Chrome"],m,w],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[m,w,[l,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[m,w,l],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[l,[w,y.str,A.browser.oldsafari.major],[m,y.str,A.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[l,m,w],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[l,"Netscape"],m,w],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[l,m,w]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/(ia32(?=;))/i],[[u,k.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[u,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[u,/ower/,"",k.lowerize]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[u,k.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,p,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[p,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[p,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,d,[c,h]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[p,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,y.str,A.device.amazon.model],[p,"Amazon"],[c,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,p,[c,g]],[/\((ip[honed|\s\w*]+);/i],[d,[p,"Apple"],[c,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,d,[c,g]],[/\(bb10;\s(\w+)/i],[d,[p,"BlackBerry"],[c,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[d,[p,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])/i],[p,d,[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,d,[c,f]],[/android.+;\s(shield)\sbuild/i],[d,[p,"Nvidia"],[c,f]],[/(playstation\s[3portablevi]+)/i],[d,[p,"Sony"],[c,f]],[/(sprint\s(\w+))/i],[[p,y.str,A.device.sprint.vendor],[d,y.str,A.device.sprint.model],[c,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[p,d,[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[d,/_/g," "],[c,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[p,"Microsoft"],[c,f]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,"Microsoft"],[c,g]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[p,"Motorola"],d,[c,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[p,"Motorola"],[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],d,[c,h]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],d,[c,g]],[/(samsung);smarttv/i],[p,d,[c,b]],[/\(dtv[\);].+(aquos)/i],[d,[p,"Sharp"],[c,b]],[/sie-(\w+)*/i],[d,[p,"Siemens"],[c,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],d,[c,g]],[/android\s3\.[\s\w-;]{10}(a\d{3})/i],[d,[p,"Acer"],[c,h]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],d,[c,h]],[/(lg) netcast\.tv/i],[p,d,[c,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[p,"LG"],[c,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[p,"Lenovo"],[c,h]],[/linux;.+((jolla));/i],[p,d,[c,g]],[/((pebble))app\/[\d\.]+\s/i],[p,d,[c,v]],[/android.+;\s(glass)\s\d/i],[d,[p,"Google"],[c,v]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[c,k.lowerize],p,d]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,m],[/rv\:([\w\.]+).*(gecko)/i],[m,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[m,y.str,A.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[m,y.str,A.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[l,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[l,"Symbian"],m],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[l,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[l,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[l,m],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[l,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[l,m]]},S=function(e,s){if(!(this instanceof S))return new S(e,s).getResult();var r=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:o),n=s?k.extend(E,s):E;this.getBrowser=function(){return y.rgx.apply(this,n.browser)},this.getCPU=function(){return y.rgx.apply(this,n.cpu)},this.getDevice=function(){return y.rgx.apply(this,n.device)},this.getEngine=function(){return y.rgx.apply(this,n.engine)},this.getOS=function(){return y.rgx.apply(this,n.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(i){return r=i,this},this.setUA(r)};if(S.VERSION=s,S.BROWSER={NAME:l,MAJOR:w,VERSION:m},S.CPU={ARCHITECTURE:u},S.DEVICE={MODEL:d,VENDOR:p,TYPE:c,CONSOLE:f,MOBILE:g,SMARTTV:b,TABLET:h,WEARABLE:v,EMBEDDED:x},S.ENGINE={NAME:l,VERSION:m},S.OS={NAME:l,VERSION:m},typeof exports!==a)typeof module!==a&&module.exports&&(exports=module.exports=S),exports.UAParser=S;else{i.UAParser=S,typeof define===n&&define.amd&&define(function(){return S});var N=i.jQuery||i.Zepto;if(typeof N!==a){var T=new S;N.ua=T.getResult(),N.ua.get=function(){return T.getUA()},N.ua.set=function(i){T.setUA(i);var e=T.getResult();for(var s in e)N.ua[s]=e[s]}}}}(this);
},{}],"/home/ubuntu/workspace/src/collections/Collection.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),Collection=B.Collection.extend({_xhrAttempts:0,_xhrRetries:5,_xhrTimer:0,sync:function(t,r,e){var s=this,u=e.error,n=e.success,a=+new Date;e.success=function(t,r,e){var u=arguments,i=+new Date;s.trigger("xhr",{lag:i-a,status:e.status,uri:_.isFunction(s.url)?s.url():s.url}),s._xhrAttempts=0,s._xhrTimer=0,n.apply(s,u)},e.error=function(n){var i=arguments,l=+new Date;(0===n.status||n.status>399)&&s._xhrAttempts<s._xhrRetries?(s._xhrAttempts++,setTimeout(function(){B.sync.call(s,t,r,_.cloneDeep(e))},400*Math.pow(s._xhrAttempts,2))):(s.trigger("xhr",{lag:l-a,status:n.status,uri:_.isFunction(s.url)?s.url():s.url}),s._xhrAttempts=0,s._xhrTimer=0,u.apply(s,i))},B.sync.call(s,t,r,_.cloneDeep(e))}});module.exports=Collection;
},{"backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/collections/algorithms.js":[function(require,module,exports){
"use strict";var _=require("lodash"),Collection=require("./Collection"),session=require("../models/session"),Algorithms=Collection.extend({model:require("../models/Algorithm"),initialize:function(){_.bindAll(this),session.on("change:token",function(){this.reset()},this)}}),algorithms=new Algorithms;module.exports=algorithms;
},{"../models/Algorithm":"/home/ubuntu/workspace/src/models/Algorithm.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","./Collection":"/home/ubuntu/workspace/src/collections/Collection.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/collections/documents.js":[function(require,module,exports){
"use strict";var _=require("lodash"),Collection=require("./Collection"),session=require("../models/session"),Documents=Collection.extend({model:require("../models/Document"),initialize:function(){_.bindAll(this),session.on("change:token",function(){this.reset()},this)}}),documents=new Documents;module.exports=documents;
},{"../models/Document":"/home/ubuntu/workspace/src/models/Document.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","./Collection":"/home/ubuntu/workspace/src/collections/Collection.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/collections/flowcharts.js":[function(require,module,exports){
"use strict";var _=require("lodash"),Collection=require("./Collection"),session=require("../models/session"),Flowcharts=Collection.extend({model:require("../models/Flowchart"),initialize:function(){_.bindAll(this),session.on("change:token",function(){this.reset()},this)}}),documents=new Flowcharts;module.exports=documents;
},{"../models/Flowchart":"/home/ubuntu/workspace/src/models/Flowchart.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","./Collection":"/home/ubuntu/workspace/src/collections/Collection.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/collections/modules.js":[function(require,module,exports){
"use strict";var _=require("lodash"),Collection=require("./Collection"),io=require("../services/io"),session=require("../models/session"),uris=require("../services/uris"),Modules=Collection.extend({model:require("../models/Module"),initialize:function(){_.bindAll(this)},hydrate:function(){this.url=uris("modules",{clientId:session.get("clientId")}),this.reset(),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve modules")}})},parse:function(e){e=e.modules?e.modules:e;var i=_.filter(e,function(e){return!e.module.meta.isPersonal});return i}}),modules=new Modules;module.exports=modules;
},{"../models/Module":"/home/ubuntu/workspace/src/models/Module.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Collection":"/home/ubuntu/workspace/src/collections/Collection.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/collections/pdfs.js":[function(require,module,exports){
"use strict";var _=require("lodash"),Collection=require("./Collection"),session=require("../models/session"),PDFs=Collection.extend({model:require("../models/PDF"),initialize:function(){_.bindAll(this),session.on("change:token",function(){this.reset()},this)}}),pdfs=new PDFs;module.exports=pdfs;
},{"../models/PDF":"/home/ubuntu/workspace/src/models/PDF.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","./Collection":"/home/ubuntu/workspace/src/collections/Collection.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/lib/zepto.js":[function(require,module,exports){
var Zepto=function(){function t(t){return null==t?String(t):V[B.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function o(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return O.call(t,function(t){return null!=t})}function u(t){return t.length>0?T.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in L?L[t]:L[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||A[c(t)]?e:e+"px"}function h(t){var e,n;return D[t]||(e=M.createElement(t),M.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),D[t]=n),D[t]}function p(t){return"children"in t?P.call(t.children):T.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e,n){for(E in e)n&&(o(e[E])||W(e[E]))?(o(e[E])&&!o(t[E])&&(t[E]={}),W(e[E])&&!W(t[E])&&(t[E]=[]),d(t[E],e[E],n)):e[E]!==b&&(t[E]=e[E])}function m(t,e){return null==e?T(t):T(t).filter(e)}function g(t,n,r,i){return e(n)?n.call(t,r,i):n}function v(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className,r=n&&n.baseVal!==b;return e===b?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function x(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?T.parseJSON(t):t:e):t}catch(n){return t}}function w(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++)w(t.childNodes[n],e)}var b,E,T,j,S,N,C=[],P=C.slice,O=C.filter,M=window.document,D={},L={},A={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},$=/^\s*<(\w+|!)[^>]*>/,R=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Z=/^(?:body|html)$/i,k=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],z=M.createElement("table"),H=M.createElement("tr"),U={tr:M.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:H,th:H,"*":M.createElement("div")},X=/complete|loaded|interactive/,I=/^[\w-]*$/,V={},B=V.toString,Y={},J=M.createElement("div"),G={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},W=Array.isArray||function(t){return t instanceof Array};return Y.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=J).appendChild(t),r=~Y.qsa(i,e).indexOf(t),o&&J.removeChild(t),r},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},N=function(t){return O.call(t,function(e,n){return t.indexOf(e)==n})},Y.fragment=function(t,e,n){var r,i,a;return R.test(t)&&(r=T(M.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(q,"<$1></$2>")),e===b&&(e=$.test(t)&&RegExp.$1),e in U||(e="*"),a=U[e],a.innerHTML=""+t,r=T.each(P.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(i=T(r),T.each(n,function(t,e){_.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},Y.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},Y.isZ=function(t){return t instanceof Y.Z},Y.init=function(t,n){var r;if(!t)return Y.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&$.test(t))r=Y.fragment(t,RegExp.$1,n),t=null;else{if(n!==b)return T(n).find(t);r=Y.qsa(M,t)}else{if(e(t))return T(M).ready(t);if(Y.isZ(t))return t;if(W(t))r=s(t);else if(i(t))r=[t],t=null;else if($.test(t))r=Y.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==b)return T(n).find(t);r=Y.qsa(M,t)}}return Y.Z(r,t)},T=function(t,e){return Y.init(t,e)},T.extend=function(t){var e,n=P.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},Y.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],a=i||o?e.slice(1):e,s=I.test(a);return r(t)&&s&&i?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:P.call(s&&!i?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=M.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},T.type=t,T.isFunction=e,T.isWindow=n,T.isArray=W,T.isPlainObject=o,T.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},T.inArray=function(t,e,n){return C.indexOf.call(e,t,n)},T.camelCase=S,T.trim=function(t){return null==t?"":String.prototype.trim.call(t)},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var n,r,i,o=[];if(a(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&o.push(n);else for(i in t)n=e(t[i],i),null!=n&&o.push(n);return u(o)},T.each=function(t,e){var n,r;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},T.grep=function(t,e){return O.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(t){return T(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return T(P.apply(this,arguments))},ready:function(t){return X.test(M.readyState)&&M.body?t(T):M.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===b?P.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return C.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):T(O.call(this,function(e){return Y.matches(e,t)}))},add:function(t,e){return T(N(this.concat(T(t,e))))},is:function(t){return this.length>0&&Y.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==b)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):a(t)&&e(t.item)?P.call(t):T(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return T(n)},has:function(t){return this.filter(function(){return i(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:T(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?T(t).filter(function(){var t=this;return C.some.call(n,function(e){return T.contains(e,t)})}):1==this.length?T(Y.qsa(this[0],t)):this.map(function(){return Y.qsa(this,t)}):[]},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=T(t));n&&!(i?i.indexOf(n)>=0:Y.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return T(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=T.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(N(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return P.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return O.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=T(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){T(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;)t=e.first();T(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=T(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===b?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;T(this).empty().append(g(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=g(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(t))for(E in t)v(this,E,t[E]);else v(this,t,g(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:b},removeAttr:function(t){return this.each(function(){1===this.nodeType&&v(this,t)})},prop:function(t,e){return t=G[t]||t,1 in arguments?this.each(function(n){this[t]=g(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(k,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?x(r):b},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=T(this),r=g(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r=this[0],i=getComputedStyle(r,"");if(!r)return;if("string"==typeof e)return r.style[S(e)]||i.getPropertyValue(e);if(W(e)){var o={};return T.each(W(e)?e:[e],function(t,e){o[e]=r.style[S(e)]||i.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(E in e)e[E]||0===e[E]?a+=c(E)+":"+f(E,e[E])+";":this.each(function(){this.style.removeProperty(c(E))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?C.some.call(this,function(t){return this.test(y(t))},l(t)):!1},addClass:function(t){return t?this.each(function(e){j=[];var n=y(this),r=g(this,t,e,n);r.split(/\s+/g).forEach(function(t){T(this).hasClass(t)||j.push(t)},this),j.length&&y(this,n+(n?" ":"")+j.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===b?y(this,""):(j=y(this),g(this,t,e,j).split(/\s+/g).forEach(function(t){j=j.replace(l(t)," ")}),void y(this,j.trim()))})},toggleClass:function(t,e){return t?this.each(function(n){var r=T(this),i=g(this,t,n,y(this));i.split(/\s+/g).forEach(function(t){(e===b?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===b?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===b?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=Z.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(T(t).css("margin-top"))||0,n.left-=parseFloat(T(t).css("margin-left"))||0,r.top+=parseFloat(T(e[0]).css("border-top-width"))||0,r.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||M.body;t&&!Z.test(t.nodeName)&&"static"==T(t).css("position");)t=t.offsetParent;return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});T.fn[t]=function(i){var o,a=this[0];return i===b?n(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=T(this),a.css(t,g(this,i,e,a[t]()))})}}),F.forEach(function(e,n){var r=n%2;T.fn[e]=function(){var e,i,o=T.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:Y.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=T.contains(M.documentElement,i);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!i)return T(t).remove();i.insertBefore(t,e),s&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},T.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return T(t)[e](this),this}}),Y.Z.prototype=T.fn,Y.uniq=N,Y.deserializeValue=x,T.zepto=Y,T}();!function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,a){if(n=r(n),n.ns)var s=i(n.ns);return(g[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!s.test(t.ns)||o&&e(t.fn)!==e(o)||a&&t.sel!=a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in x||!!e}function a(t){return w[t]||y&&x[t]||t}function s(n,i,s,u,l,h,p){var d=e(n),m=g[d]||(g[d]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var i=r(e);i.fn=s,i.sel=l,i.e in w&&(s=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||s;i.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=u;var e=d.apply(n,t._args==f?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},i.i=m.length,m.push(i),"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,p))})}function u(t,r,i,s,u){var c=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,i,s).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,u))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(j,function(t,r){var i=n[t];e[t]=function(){return this[r]=b,i&&i.apply(n,arguments)},e[r]=E}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function l(t){var e,n={originalEvent:t};for(e in t)T.test(e)||t[e]===f||(n[e]=t[e]);return c(n,t)}var f,h=1,p=Array.prototype.slice,d=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,x={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:s,remove:u},t.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var o=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return o._zid=e(n),o}if(m(r))return i?(i.unshift(n[r],n),t.proxy.apply(null,i)):t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},E=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,j={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var a,c,h=this;return e&&!m(e)?(t.each(e,function(t,e){h.on(t,n,r,e,o)}),h):(m(n)||d(i)||i===!1||(i=r,r=n,n=f),(d(r)||r===!1)&&(i=r,r=f),i===!1&&(i=E),h.each(function(f,h){o&&(a=function(t){return u(h,t.type,i),i.apply(this,arguments)}),n&&(c=function(e){var r,o=t(e.target).closest(n,h).get(0);return o&&o!==h?(r=t.extend(l(e),{currentTarget:o,liveFired:h}),(a||i).apply(o,[r].concat(p.call(arguments,1)))):void 0}),s(h,e,i,r,n,c||a)}))},t.fn.off=function(e,n,r){var i=this;return e&&!m(e)?(t.each(e,function(t,e){i.off(t,n,e)}),i):(m(n)||d(r)||r===!1||(r=n,n=f),r===!1&&(r=E),i.each(function(){u(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(a,s){i=l(m(e)?t.Event(e):e),i._args=r,i.target=s,t.each(n(s,e.type||e),function(t,e){return o=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),c(n)}}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,r,"ajaxSend",[t,e])}function a(t,e,r,i){var o=r.context,a="success";r.success.call(o,t,a,e),i&&i.resolveWith(o,[t,a,e]),n(r,o,"ajaxSuccess",[e,r,t]),u(a,e,r)}function s(t,e,r,i,o){var a=i.context;i.error.call(a,r,e,t),o&&o.rejectWith(a,[r,e,t]),n(i,a,"ajaxError",[r,i,t||e]),u(e,r,i)}function u(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==E?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function d(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(u.name,u.value):"array"==o||!r&&"object"==o?d(e,u,r,n):e.add(n,u)})}var m,g,v=0,y=window.document,x=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,E="application/json",T="text/html",j=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,i,u=e.jsonpCallback,c=(t.isFunction(u)?u():u)||"jsonp"+ ++v,l=y.createElement("script"),f=window[c],h=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:h};return n&&n.promise(p),t(l).on("load error",function(o,u){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?a(r[0],p,e,n):s(null,u||"error",p,e,n),window[c]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0}),o(p,e)===!1?(h("abort"),p):(window[c]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),i=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===n[m]&&(n[m]=t.ajaxSettings[m]);r(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n);var u=n.dataType,p=/\?.+=\?/.test(n.url);if(p&&(u="jsonp"),n.cache!==!1&&(e&&e.cache===!0||"script"!=u&&"jsonp"!=u)||(n.url=f(n.url,"_="+Date.now())),"jsonp"==u)return p||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,i);var d,v=n.accepts[u],y={},x=function(t,e){y[t.toLowerCase()]=[t,e]},w=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,b=n.xhr(),E=b.setRequestHeader;if(i&&i.promise(b),n.crossDomain||x("X-Requested-With","XMLHttpRequest"),x("Accept",v||"*/*"),(v=n.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(v)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&x("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(g in n.headers)x(g,n.headers[g]);if(b.setRequestHeader=x,b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=c,clearTimeout(d);var e,r=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==w){u=u||l(n.mimeType||b.getResponseHeader("content-type")),e=b.responseText;try{"script"==u?(1,eval)(e):"xml"==u?e=b.responseXML:"json"==u&&(e=j.test(e)?null:t.parseJSON(e))}catch(o){r=o}r?s(r,"parsererror",b,n,i):a(e,b,n,i)}else s(b.statusText||null,b.status?"error":"abort",b,n,i)}},o(b,n)===!1)return b.abort(),s(null,"abort",b,n,i),b;if(n.xhrFields)for(g in n.xhrFields)b[g]=n.xhrFields[g];var T="async"in n?n.async:!0;b.open(n.type,n.url,T,n.username,n.password);for(g in y)E.apply(b,y[g]);return n.timeout>0&&(d=setTimeout(function(){b.onreadystatechange=c,b.abort(),s(null,"timeout",b,n,i)},n.timeout)),b.send(n.data?n.data:null),b},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,a=e.split(/\s/),s=p(e,n,r),u=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(e){o.html(i?t("<div>").html(e.replace(x,"")).find(i):e),u&&u.apply(o,arguments)},t.ajax(s),this};var S=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(S(t)+"="+S(e))},d(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){function e(t,e,n,r){return Math.abs(t-e)>=Math.abs(n-r)?t-e>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){l=null,h.last&&(h.el.trigger("longTap"),h={})}function r(){l&&clearTimeout(l),l=null}function i(){s&&clearTimeout(s),u&&clearTimeout(u),c&&clearTimeout(c),l&&clearTimeout(l),s=u=c=l=null,h={}}function o(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function a(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var s,u,c,l,f,h={},p=750;t(document).ready(function(){var d,m,g,v,y=0,x=0;"MSGesture"in window&&(f=new MSGesture,f.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(h.el.trigger("swipe"),h.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(!(v=a(e,"down"))||o(e))&&(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),d=Date.now(),m=d-(h.last||d),h.el=t("tagName"in g.target?g.target:g.target.parentNode),s&&clearTimeout(s),h.x1=g.pageX,h.y1=g.pageY,m>0&&250>=m&&(h.isDoubleTap=!0),h.last=d,l=setTimeout(n,p),f&&v&&f.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(!(v=a(t,"move"))||o(t))&&(g=v?t:t.touches[0],r(),h.x2=g.pageX,h.y2=g.pageY,y+=Math.abs(h.x1-h.x2),x+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(v=a(n,"up"))||o(n))&&(r(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?c=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+e(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>y&&30>x?u=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=i,h.el.trigger(e),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):s=setTimeout(function(){s=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),y=x=0)}).on("touchcancel MSPointerCancel pointercancel",i),t(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function n(t,e){t=t.replace(/=#\]/g,'="#"]');var n,r,i=s.exec(t);if(i&&i[2]in a&&(n=a[i[2]],r=i[3],t=i[1],r)){var o=Number(r);r=isNaN(o)?r.replace(/^["']|["']$/g,""):o}return e(t,n,r)}var r=t.zepto,i=r.qsa,o=r.matches,a=t.expr[":"]={visible:function(){return e(this)?this:void 0},hidden:function(){return e(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(t){return 0===t?this:void 0},last:function(t,e){return t===e.length-1?this:void 0},eq:function(t,e,n){return t===n?this:void 0},contains:function(e,n,r){return t(this).text().indexOf(r)>-1?this:void 0},has:function(t,e,n){return r.qsa(this,n).length?this:void 0}},s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),u=/^\s*>/,c="Zepto"+ +new Date;r.qsa=function(e,o){return n(o,function(n,o,a){try{var s;!n&&o?n="*":u.test(n)&&(s=t(e).addClass(c),n="."+c+" "+n);var l=i(e,n)}catch(f){throw f}finally{s&&s.removeClass(c)}return o?r.uniq(t.map(l,function(t,e){return o.call(t,e,l,a)})):l})},r.matches=function(t,e){return n(e,function(e,n,r){return!(e&&!o(t,e)||n&&n.call(t,null,r)!==t)})}}(Zepto),module.exports=Zepto;
},{}],"/home/ubuntu/workspace/src/models/Algorithm.js":[function(require,module,exports){
"use strict";var _=require("lodash"),io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),Algorithm=Model.extend({idAttribute:"fileId",defaults:{fileId:null,attribution:null,nodes:{},rootNodeId:null,title:null},hydrate:function(e,i){this.url=uris("fileAlgorithm",{fileId:e,moduleId:i}),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve algorithm with fileId="+e)}})},parse:function(e){e=e.file?e.file:e;var i={};return i.fileId=e.fileId,i.attribution=e.meta.attribution,i.title=e.meta.title,i.rootNodeId=e.data.rootNodeId,i.nodes=_.reduce(e.data.nodes,function(e,i,t){return e[t]=i,e[t]._id=t,e},{}),i}});module.exports=Algorithm;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Model":"/home/ubuntu/workspace/src/models/Model.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/models/Document.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),Document=Model.extend({idAttribute:"fileId",defaults:{fileId:null,attribution:null,content:"",infoTexts:{},title:null,textDir:"ltr",textLang:"en"},hydrate:function(t,e){this.url=uris("fileDocument",{fileId:t,moduleId:e}),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve document with fileId="+t)}})},parse:function(t){t=t.file?t.file:t;var e={};e.fileId=t.fileId,e.attribution=t.meta.attribution,e.title=t.meta.title,e.infoTexts={},e.textDir=t.meta.textDirection,e.textLang=t.meta.textLanguage;var i=B.$("<div>");return _.each(t.data.sections,function(t,r){var n=B.$("<div>");n.html(t.content),n.find(".aglmd-moreinfo").each(function(){var t=B.$(this),i=t.data("infotext"),a=n.find("#aglmd-infotext-"+i),o=r+"_"+i;e.infoTexts[o]=a.html(),t.attr("data-iid",o),t.removeAttr("data-infotext"),a.remove()}),n.find("img").each(function(){var t=B.$(this);t.attr("src",t.data("src-raw")),t.removeAttr("data-src-raw")});var a=n.find(".aglmd-document").html();t.title.length>0&&i.append("<h2>"+t.title+"</h2>"),i.append('<div class="aglmd-section">'+a+"</div>")}),e.content=i.html(),e}});module.exports=Document;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Model":"/home/ubuntu/workspace/src/models/Model.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/models/Flowchart.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),Flowchart=Model.extend({idAttribute:"fileId",defaults:{fileId:null,attribution:null,chart:"",content:"",title:null},hydrate:function(t,e){this.url=uris("fileFlowchart",{fileId:t,moduleId:e}),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve flowchart with fileId="+t)}})},parse:function(t){t=t.file?t.file:t;var e={};e.fileId=t.fileId,e.attribution=t.meta.attribution,e.title=t.meta.title;var i,r=B.$("<div>"),a=B.$("<div>");return r.append(t.data.chart),i=r.find(".aglmd-flowchart"),r.html(i.html()),e.chart=r.html(),e.chartStyle=i.attr("style"),_.each(t.data.sections,function(t){t.title.length>0&&a.append("<h2>"+t.title+"</h2>"),a.append('<div class="aglmd-section">'+t.content+"</div>")}),a.find("img").each(function(){var t=B.$(this);t.attr("src",t.data("src-raw")),t.removeAttr("data-src-raw")}),e.content=a.html(),e}});module.exports=Flowchart;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Model":"/home/ubuntu/workspace/src/models/Model.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/models/Model.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),Model=B.Model.extend({_xhrAttempts:0,_xhrRetries:5,_xhrTimer:0,sync:function(t,e,r){"patch"===t&&(r.type="PUT");var s=this,u=r.error,a=r.success,n=+new Date;r.success=function(t,e,r){var u=arguments,i=+new Date;s.trigger("xhr",{lag:i-n,status:r.status,uri:_.isFunction(s.url)?s.url():s.url}),s._xhrAttempts=0,s._xhrTimer=0,a.apply(s,u)},r.error=function(a){var i=arguments,l=+new Date;(0===a.status||a.status>399)&&s._xhrAttempts<s._xhrRetries?(s._xhrAttempts++,setTimeout(function(){B.sync.call(s,t,e,_.cloneDeep(r))},400*Math.pow(s._xhrAttempts,2))):(s.trigger("xhr",{lag:l-n,status:a.status,uri:_.isFunction(s.url)?s.url():s.url}),s._xhrAttempts=0,s._xhrTimer=0,u.apply(s,i))},B.sync.call(s,t,e,_.cloneDeep(r))}});module.exports=Model;
},{"backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/models/Module.js":[function(require,module,exports){
"use strict";var _=require("lodash"),io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),Module=Model.extend({idAttribute:"moduleId",defaults:{art:"",description:"",files:{},folders:{},rootFolderId:"",subtitle:"",title:""},initialize:function(){_.bindAll(this)},hydrate:function(){var e=this.id;this.url=uris("module",{moduleId:e}),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve module with moduleId="+e)}})},parse:function(e){e=e.module?e.module:e;var t={};return t.art=e.meta.art[128],t.description=e.meta.description,t.moduleId=e.moduleId,t.subtitle=e.meta.subtitle,t.title=e.meta.title,t.rootFolderId=e.data.rootFolderId,t.folders=e.data.folders,t.files=_.reduce(e.data.files,function(e,t){return e[t.fileId]=t,e},{}),_.each(t.folders,function(e,i){e._id=i,t.folders[i].items=_.map(e.items,function(e){return"folder"===e.itemType?(e.title=t.folders[e.itemId].title,e.folderId=e.itemId,e.fileCount=t.folders[e.itemId].fileCount):(e.title=t.files[e.itemId].meta.title,e.fileId=e.itemId,e.moduleId=t.moduleId),delete e.itemId,e})}),t.folders[t.rootFolderId].title=t.title,t}});module.exports=Module;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Model":"/home/ubuntu/workspace/src/models/Model.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/models/PDF.js":[function(require,module,exports){
"use strict";var io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),Document=Model.extend({idAttribute:"fileId",defaults:{fileId:null,attribution:null,title:null,url:null},hydrate:function(e,i){this.url=uris("filePDF",{fileId:e,moduleId:i}),this.fetch({beforeSend:session.inject,error:function(){io.crit("failed to retrieve pdf with fileId="+e)}})},parse:function(e){e=e.file?e.file:e;var i={};return i.fileId=e.fileId,i.attribution=e.meta.attribution,i.title=e.meta.title,i.url=e.data.url,i}});module.exports=Document;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","./Model":"/home/ubuntu/workspace/src/models/Model.js"}],"/home/ubuntu/workspace/src/models/session.js":[function(require,module,exports){
"use strict";var _=require("lodash"),io=require("../services/io"),Model=require("./Model"),session=require("../models/session"),uris=require("../services/uris"),xhr=require("../services/xhr"),Session=Model.extend({idAttribute:"_id",defaults:{clientId:"",ownerId:"",token:""},initialize:function(){_.bindAll(this)},authenticate:function(e){return e=e||{},e.key?(e.user||io.warn("integrated owner (user) not specified"),void xhr({context:this,method:"POST",dataType:"json",uri:uris("tokens"),data:e,success:function(e){this.set(e)},error:function(){io.alert("unable to generate session; no network or bad token")}})):void io.alert("cannot authenticate without a key parameter")},inject:function(e){var i=this.get("token")+":";i&&1!==i.length||io.crit("missing token; request may fail if authentication is required"),e.setRequestHeader("Authorization","Basic "+btoa(i))}}),session=new Session;module.exports=session;
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","../services/uris":"/home/ubuntu/workspace/src/services/uris.js","../services/xhr":"/home/ubuntu/workspace/src/services/xhr.js","./Model":"/home/ubuntu/workspace/src/models/Model.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/services/env.js":[function(require,module,exports){
(function(e){"use strict";function n(e){for(var n=e.split("."),o=n.pop(),t=a,r=0,i=n.length;i>r;r++){if("object"!=typeof t){t={};break}t=t[n[r]]}return t[o]}function o(){return r.cloneDeep(a)}function t(e){a=r.extend(a,e)}var r=require("lodash"),i=require("ua-parser-js"),a={};!function(){var n=new i,o=n.setUA(navigator.userAgent).getResult();a.FILE_TYPES=["algorithm","document","flowchart","pdf"],a.IS_LOCALHOST=/localhost/.test(window.location.href),a.IS_PROD=!e.agilemd.DEBUG,a.IS_RETINA=e.devicePixelRatio>1,a.USE_TAP="ontouchstart"in window&&(/iPhone|iPad|iPod/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent));var t=o.device.vendor||"";t=o.device.model?(t.length?t+" ":"")+o.device.model:"",a.AGENT={machine:{name:t.length?t:"unknown",m:o.device.version||-1,n:-1},os:{name:o.os.name&&o.os.name.length?o.os.name:"unknown",m:o.os.version||-1,n:-1},browser:{name:o.browser.name&&o.browser.name.length?o.browser.name:"unknown",m:o.browser.major||-1,n:o.browser.version||-1}},a.VERSION={M:"3",m:"5",p:"3",c:"a6a99923"}}(),module.exports=n,module.exports.all=o,module.exports.set=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js","ua-parser-js":"/home/ubuntu/workspace/node_modules/ua-parser-js/src/ua-parser.js"}],"/home/ubuntu/workspace/src/services/io.js":[function(require,module,exports){
(function(e){"use strict";function i(){var i,t;if(a.on("change:token",function(){e.agilemd.open=function(e,i){"module"===e?d.transition({moduleId:i}):l.transition({fileId:i})},t=n.findLast(e.agilemd._q,function(e){return"open"===e[0]}),t?e.agilemd.open.apply(null,t[1]):d.transition({moduleId:-1}),e.agilemd._q=[]}),e.agilemd.open=function(){e.agilemd._q.push(["open",Array.prototype.slice.call(arguments)])},i=n.findLast(e.agilemd._q,function(e){return"init"===e[0]})){var o=i[1]&&i[1].length?i[1][0]:{};o.disableNavigation&&(d.set("isDisabled",o.disableNavigation),delete o.disableNavigation),o.file?(e.agilemd.open("file",o.file),delete o.file):o.module&&(e.agilemd.open("module",o.module),delete o.module),a.authenticate.apply(null,i[1])}e.agilemd.init=a.authenticate}var t={abort:0,alert:1,crit:2,error:3,warn:4},n=require("lodash"),o=require("backdash"),l=require("../viewmodels/file"),d=require("../viewmodels/navigator"),a=require("../models/session"),r=n.extend({},o.Events),g=n.extend({},o.Events);e.agilemd.on=n.bind(g.on,g),n.each(e.agilemd._q,function(i){"on"===i[0]&&g.on(i[1][0],i[1][1],i[1][2]||e)}),a.on("change:token",function(e){g.trigger("auth",{clientId:e.get("clientId"),ownerId:e.get("ownerId")})}),d.on("change",function(e){var i=e.changedAttributes();if(i.path&&i.path.length){var t=i.path[i.path.length-1];g.trigger("openFolder",{moduleId:e.get("moduleId"),folderId:t._id,folderTitle:t.title})}i.title&&g.trigger("openModule",{moduleId:e.get("moduleId"),moduleTitle:i.title})}),l.on("change",function(e){var i=e.changedAttributes();if(i.title&&g.trigger("openFile",{fileId:e.get("fileId"),fileTitle:i.title,fileType:e.get("type")}),i.nodeIds){var t=i.nodeIds.slice(0);g.trigger("openNode",{fileId:e.get("fileId"),nodeId:t.pop(),nodeIdHistory:t})}}),n.each(t,function(e,i){module.exports[i]=r[i]=function(i){g.trigger("error",{code:e,message:i})}}),module.exports.init=i,module.exports.on=r.on,module.exports.trigger=r.trigger}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../models/session":"/home/ubuntu/workspace/src/models/session.js","../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../viewmodels/navigator":"/home/ubuntu/workspace/src/viewmodels/navigator.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/services/log.js":[function(require,module,exports){
(function(e){"use strict";function n(e){v(g.XHR,e)}var o=require("lodash"),t=require("backdash"),i=require("../collections/algorithms"),r=require("../collections/documents"),d=require("./env"),u=require("../collections/modules"),l=require("../models/session"),s=require("../viewmodels/navigator"),c=require("../viewmodels/file"),a=require("./xhr"),g={ACTIVE:"472LmKyr",FILE:"eeXsp4DP",MODULE:"46MuLEeG",NODE:"5AGWYopX",XHR:"53PK1vZT"},f="https://utils.agilemd.com/m",m=o.extend({},t.Events),I={trigger:function(){}},h={};!function(){var e=d("VERSION");h.a={name:"widget",m:e.M,n:e.m,p:e.p,"@":e.c},h.d=d("AGENT")}();var v=e.agilemd.DEBUG?function(){}:function(e,n){var t=o.extend({},h);t.e=e,n&&(t.x=n),a({contentType:"application/json; charset=utf-8",beforeSend:l.inject,data:JSON.stringify({log:[t]}),dataType:"json",emitter:I,method:"POST",uri:f}),m.trigger("req",t)};l.on("change:ownerId",function(e,n){n&&(h.u=n,v(g.ACTIVE,{connection:"unknown"}))}),s.on("change:moduleId",function(e,n){n&&-1!==n&&v(g.MODULE,{moduleId:n})}),c.on("change:title",function(e,n){if(n){var o=s.get("moduleId"),t={entityId:e.get("entityId"),versionId:e.get("versionId")};o&&(t.moduleId=o),v(g.FILE,t)}}),c.on("change:nodeIds",function(e,n){n&&0!==n.length&&(n=n.slice(0),v(g.NODE,{entityId:e.get("entityId"),versionId:e.get("versionId"),nodeId:n[n.length-1],path:n}))}),i.on("xhr",n),r.on("xhr",n),u.on("xhr",n),a.on("xhr",n),module.exports=m.on}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../collections/algorithms":"/home/ubuntu/workspace/src/collections/algorithms.js","../collections/documents":"/home/ubuntu/workspace/src/collections/documents.js","../collections/modules":"/home/ubuntu/workspace/src/collections/modules.js","../models/session":"/home/ubuntu/workspace/src/models/session.js","../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../viewmodels/navigator":"/home/ubuntu/workspace/src/viewmodels/navigator.js","./env":"/home/ubuntu/workspace/src/services/env.js","./xhr":"/home/ubuntu/workspace/src/services/xhr.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/services/uris.js":[function(require,module,exports){
"use strict";function get(e,i){var u=uris[e].uri(i);return uris[e].view&&(u+="?v="+uris[e].view),HOST+u}var HOST="",uris={module:{uri:function(e){return"/v3/modules/"+e.moduleId},view:"native-7.0"},modules:{uri:function(e){return"/v3/users/"+e.clientId+"/modules"},view:"native-7.0"},fileAlgorithm:{uri:function(e){return"/v3/modules/"+e.moduleId+"/algorithms/"+e.fileId},view:"native-7.0"},fileDocument:{uri:function(e){return"/v3/modules/"+e.moduleId+"/documents/"+e.fileId},view:"native-8.0"},fileFlowchart:{uri:function(e){return"/v3/modules/"+e.moduleId+"/flowcharts/"+e.fileId},view:"native-2.0"},filePDF:{uri:function(e){return"/v3/modules/"+e.moduleId+"/pdfs/"+e.fileId},view:"native-6.0"},tokens:{uri:function(){return"/v3/tokens"}}};module.exports=get;
},{}],"/home/ubuntu/workspace/src/services/xhr.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),service=_.extend({},B.Events);service.xhr=function(e){var t,r=e.emitter||service,i=+new Date,s=e;e.complete&&(t=e.complete),e.emitter&&delete e.emitter,e.method&&(s.type=e.method,delete s.method),e.uri&&(s.url=e.uri,delete s.uri),s.complete=function(e){var u=+new Date;r.trigger("xhr",{latency:u-i,status:e.status,uri:s.url}),t&&t(arguments)},B.$.ajax(s)},module.exports=service.xhr,module.exports.on=service.on;
},{"backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/templates/app.html":[function(require,module,exports){
module.exports=function(){var d=[],n=d.push.bind(d);this.render;return n('<div class="aglmd-navigation"></div>\n<div class="aglmd-content"></div>\n\n<b class="aglmd-modal-backdrop"></b>\n<div class="aglmd-modal"></div>\n\n<div class="aglmd-nostyles" style="background:#fff; position:absolute; top:0; right:0; bottom:0; left:0;"></div>'),d.join("")};
},{}],"/home/ubuntu/workspace/src/templates/file/algorithm.html":[function(require,module,exports){
module.exports=function(){var d=[],i=d.push.bind(d);this.render;return i('<div class="aglmd-file-algorithm">\n  <div class="aglmd-algorithm-anchor"></div>\n\n  <div class="aglmd-algorithm-nodes-frame">\n  	<div class="aglmd-algorithm-nodes"></div>\n  </div>\n</div>'),d.join("")};
},{}],"/home/ubuntu/workspace/src/templates/file/algorithm/node.html":[function(require,module,exports){
module.exports=function(n,i,r,l,a){var d=[],o=d.push.bind(d),s=0;this.render;return o('\n\n<div class="aglmd-node" data-nid="'),s=n,(void 0!==s||null!==s)&&o(Array.isArray(s)?s.join(""):s),o('" style="width: '),s=a,(void 0!==s||null!==s)&&o(Array.isArray(s)?s.join(""):s),o('px;">\n  '),i&&(o('\n    <div class="aglmd-node-prompt">'),s=i,(void 0!==s||null!==s)&&o(Array.isArray(s)?s.join(""):s),o("</div>")),o("\n\n  "),r&&r.length&&(o('\n    <ul class="aglmd-node-responses">\n    '),s=r.map(function(n){var i=[],r=i.push.bind(i),l=0;return r('\n      <li class="aglmd-node-response" data-nid="'),l=n.nodeId,(void 0!==l||null!==l)&&r(Array.isArray(l)?l.join(""):l),r('">\n        '),l=n.text,(void 0!==l||null!==l)&&r(Array.isArray(l)?l.join(""):l),r("\n      </li>"),i.join("")}),(void 0!==s||null!==s)&&o(Array.isArray(s)?s.join(""):s),o("\n    </ul>")),o("\n\n  "),l&&l.length&&(o('\n    <div class="aglmd-node-sections">\n      '),s=l.map(function(n){var i=[],r=i.push.bind(i),l=0;return r("\n        "),n.title&&n.title.length?(r('\n          <h2 class="aglmd-header">'),l=n.title,(void 0!==l||null!==l)&&r(Array.isArray(l)?l.join(""):l),r('</h2>\n          <div class="aglmd-section">'),l=n.content,(void 0!==l||null!==l)&&r(Array.isArray(l)?l.join(""):l),r("</div>")):(r('\n          <div class="aglmd-section aglmd-active">'),l=n.content,(void 0!==l||null!==l)&&r(Array.isArray(l)?l.join(""):l),r("</div>")),i.join("")}),(void 0!==s||null!==s)&&o(Array.isArray(s)?s.join(""):s),o("\n    </div>")),o("\n</div>"),d.join("")};
},{}],"/home/ubuntu/workspace/src/templates/file/document.html":[function(require,module,exports){
module.exports=function(r,n,i){var l=[],o=l.push.bind(l),a=0;this.render;return o('\n\n<div class="aglmd-file-document '),a=n,(void 0!==a||null!==a)&&o(Array.isArray(a)?a.join(""):a),o('" dir="'),a=n,(void 0!==a||null!==a)&&o(Array.isArray(a)?a.join(""):a),o('" lang="'),a=i,(void 0!==a||null!==a)&&o(Array.isArray(a)?a.join(""):a),o('">\n  '),r&&(o("\n    "),a=r,(void 0!==a||null!==a)&&o(Array.isArray(a)?a.join(""):a)),o("\n</div>"),l.join("")};
},{}],"/home/ubuntu/workspace/src/templates/file/flowchart.html":[function(require,module,exports){
module.exports=function(n,r,i){var l=[],a=l.push.bind(l),d=0;this.render;return a('\n\n<div class="aglmd-file-flowchart" style="'),d=r,(void 0!==d||null!==d)&&a(Array.isArray(d)?d.join(""):d),a('">\n  '),d=n,(void 0!==d||null!==d)&&a(Array.isArray(d)?d.join(""):d),a("\n\n  "),i&&a('\n    <div class="aglmd-flowchart-openextra"></div>'),a("\n</div>"),l.join("")};
},{}],"/home/ubuntu/workspace/src/templates/file/pdf.html":[function(require,module,exports){
module.exports=function(i){var n=[],e=n.push.bind(n),d=0;this.render;return e('\n\n<div class="aglmd-file-pdf">\n  <object data="'),d=i,(void 0!==d||null!==d)&&e(Array.isArray(d)?d.join(""):d),e('" type="application/pdf" width="100%" height="100%">\n    <p>Embedded PDF viewing is not supported on this device. <a href="'),d=i,(void 0!==d||null!==d)&&e(Array.isArray(d)?d.join(""):d),e('">Download and view the file directly.</a></p>\n  </object>\n</div>'),n.join("")};
},{}],"/home/ubuntu/workspace/src/templates/modal.html":[function(require,module,exports){
module.exports=function(n,a){var l=[],d=l.push.bind(l),s=0;this.render;return d('\n\n<div class="aglmd-modal-header">\n  <p class="aglmd-modal-title">'),s=n,(void 0!==s||null!==s)&&d(Array.isArray(s)?s.join(""):s),d('</p>\n  <p class="aglmd-a aglmd-modal-close">\n    <span>Close</span>\n  </p>\n</div>\n<div class="aglmd-modal-content">\n  '),s=a,(void 0!==s||null!==s)&&d(Array.isArray(s)?s.join(""):s),d("\n</div>"),l.join("")};
},{}],"/home/ubuntu/workspace/src/templates/navigator/folder.html":[function(require,module,exports){
module.exports=function(i){var l=[],r=l.push.bind(l),d=0;this.render;return r('\n\n<div class="aglmd-folder" data-fid="'),d=i._id,(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r('">\n  '),i.items&&i.items.length&&(r('\n    <ul class="aglmd-folder-items">\n      '),d=i.items.map(function(i){var l=[],r=l.push.bind(l),d=0;r("\n        ");var e='class="aglmd-folder-item aglmd-folder-item-'+i.itemType+'"';return"folder"===i.itemType?(e+=' data-type="'+i.itemType+'"',e+=' data-fid="'+i.folderId+'"'):(e+=' data-type="'+i.itemType+'"',e+=' data-fid="'+i.fileId+'"',e+=' data-mid="'+i.moduleId+'"'),r("\n        <li "),d=e,(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r('>\n          <p class="aglmd-folder-title">'),d=i.title,(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r("</p>\n          "),"folder"===i.itemType&&(r('\n            <p class="aglmd-folder-count"><span>'),d=i.fileCount,(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r("<br />"),d=1===i.fileCount?"file":"files",(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r("</span></p>")),r("\n        </li>"),l.join("")}),(void 0!==d||null!==d)&&r(Array.isArray(d)?d.join(""):d),r("\n    </ul>")),r("\n</div>"),l.join("")};
},{}],"/home/ubuntu/workspace/src/templates/navigator/top.html":[function(require,module,exports){
module.exports=function(n,a,i,r){var l=[],s=l.push.bind(l),o=0;this.render;return s("\n\n"),n&&s('\n  <p class="aglmd-navigation-back"></p>'),s("\n\n"),a&&(s('\n  <img class="aglmd-navigation-art" src="'),o=a,(void 0!==o||null!==o)&&s(Array.isArray(o)?o.join(""):o),s('" />')),s("\n\n"),i&&(s('\n  <p class="aglmd-navigation-title">'),o=i,(void 0!==o||null!==o)&&s(Array.isArray(o)?o.join(""):o),s("</p>")),s("\n\n"),r&&(s('\n  <p class="aglmd-navigation-subtitle">'),o=r,(void 0!==o||null!==o)&&s(Array.isArray(o)?o.join(""):o),s("</p>")),l.join("")};
},{}],"/home/ubuntu/workspace/src/viewmodels/ViewModel.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),ViewModel=B.Model.extend({transition:function(e){e=e||{},e=_.extend(_.clone(this.defaults),e),this.clear().set(e)}});module.exports=ViewModel;
},{"backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/viewmodels/file.js":[function(require,module,exports){
"use strict";var _=require("lodash"),ViewModel=require("./ViewModel"),io=require("../services/io"),modules=require("../collections/modules"),algorithms=require("../collections/algorithms"),documents=require("../collections/documents"),flowcharts=require("../collections/flowcharts"),pdfs=require("../collections/pdfs"),vmNavigator=require("./navigator"),File=ViewModel.extend({defaults:{title:null,type:null,fileId:null,moduleId:null},initialize:function(){_.bindAll(this),this.on("change:fileId",this.loadFile)},loadFile:function(){var t=this.get("fileId"),e=this.get("moduleId"),i=this.get("type");if(t&&e&&i){var o,r;if("document"===i)o=documents,r=this.prepareDocument;else if("flowchart"===i)o=flowcharts,r=this.prepareFlowchart;else if("algorithm"===i)o=algorithms,r=this.prepareAlgorithm;else{if("pdf"!==i){var l="cannot get data for unknown file type fileId="+t;return void io.error(l)}o=pdfs,r=this.preparePDF}var n=o.get(t);if(n)return void r(n);n=o.add({fileId:t}),n.once("sync",function(t){r(t)}),n.hydrate(t,e)}else if(t&&!e&&!i){if(modules.length)return this.findAndLoadFile(t);modules.once("sync",function(){this.findAndLoadFile(t)},this),modules.hydrate()}},findAndLoadFile:function(t){var e,i,o;return modules.each(function(r){var l=r.get("files");return _.has(l,t)?(e=l[t].fileType,i=r.get("art"),o=r.id,!1):void 0}),o?(vmNavigator.set({art:i,moduleId:o},{silent:!0}),void this.transition({type:e,fileId:t,moduleId:o})):void io.error("unable to locate valid file for fileId="+t)},prepareAlgorithm:function(t){this.set({attribution:t.get("attribution"),nodeIds:[t.get("rootNodeId")],nodes:t.get("nodes"),title:t.get("title")})},prepareDocument:function(t){this.set({attribution:t.get("attribution"),content:t.get("content")||"",infoTexts:t.get("infoTexts"),textLang:t.get("textLang"),textDir:t.get("textDir"),title:t.get("title")})},prepareFlowchart:function(t){this.set({attribution:t.get("attribution"),chart:t.get("chart"),chartStyle:t.get("chartStyle")||"",content:t.get("content"),title:t.get("title")})},preparePDF:function(t){this.set({attribution:t.get("attribution"),title:t.get("title"),url:t.get("url")})}});module.exports=new File;
},{"../collections/algorithms":"/home/ubuntu/workspace/src/collections/algorithms.js","../collections/documents":"/home/ubuntu/workspace/src/collections/documents.js","../collections/flowcharts":"/home/ubuntu/workspace/src/collections/flowcharts.js","../collections/modules":"/home/ubuntu/workspace/src/collections/modules.js","../collections/pdfs":"/home/ubuntu/workspace/src/collections/pdfs.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","./ViewModel":"/home/ubuntu/workspace/src/viewmodels/ViewModel.js","./navigator":"/home/ubuntu/workspace/src/viewmodels/navigator.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/viewmodels/modal.js":[function(require,module,exports){
"use strict";var _=require("lodash"),ViewModel=require("./ViewModel"),Modal=ViewModel.extend({defaults:{title:null,content:null},initialize:function(){_.bindAll(this)}});module.exports=new Modal;
},{"./ViewModel":"/home/ubuntu/workspace/src/viewmodels/ViewModel.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/viewmodels/navigator.js":[function(require,module,exports){
"use strict";var _=require("lodash"),ViewModel=require("./ViewModel"),io=require("../services/io"),Navigator=ViewModel.extend({collection:require("../collections/modules"),defaults:{isDisabled:!1,moduleId:null,art:null,folders:{},subtitle:null,title:null,topTitle:null,topSubtitle:null,path:[]},initialize:function(){this.on("change:moduleId",function(t,e){if(-1===e){if(this.collection.length)return void this.loadDefault();this.collection.once("sync",function(){this.loadDefault()},this),this.collection.hydrate()}else if(e){var i=this.collection.get(e),l=i.get("rootFolderId");if(!i||!l||0===l.length)return i=this.collection.add({_id:e}),i.on("sync",function(t){this.prepare(t)},this),void i.hydrate();this.prepare(i)}},this)},loadDefault:function(){var t=this.collection.last();return t?void this.set("moduleId",t.id):void io.alert("no default module could be found")},prepare:function(t){var e=t.get("folders"),i=t.get("rootFolderId");this.set({moduleId:t.id,art:t.get("art"),folders:e,subtitle:t.get("subtitle"),title:t.get("title"),path:[e[i]]})},transition:function(t){t=t||{},t.isDisabled=this.get("isDisabled"),t=_.extend(_.clone(this.defaults),t),this.clear().set(t)}});module.exports=new Navigator;
},{"../collections/modules":"/home/ubuntu/workspace/src/collections/modules.js","../services/io":"/home/ubuntu/workspace/src/services/io.js","./ViewModel":"/home/ubuntu/workspace/src/viewmodels/ViewModel.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/file/algorithm.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),env=require("../../services/env"),io=require("../../services/io"),templateNode=require("../../templates/file/algorithm/node.html"),Algorithm=B.View.extend({model:require("../../viewmodels/file"),events:function(){var e=env("USE_TAP")?"tap":"click",t=[];return t[e+" .aglmd-node-response"]="uiOpenNode",t[e+" h2"]="uiClickSection",t}(),template:require("../../templates/file/algorithm.html"),initialize:function(){_.bindAll(this),this.model.on("change:nodeIds",function(e,t){if(t&&"algorithm"===e.get("type")){var i=B.$(".aglmd-algorithm-nodes");if(!i.length)return this.once("rendered",function(){this.renderAnchor(t),this.renderNodes(t)},this),void this.trigger("render");this.renderAnchor(t),this.renderNodes(t)}},this)},render:function(){this.$el.html(this.template()),this.nodeWidth=Math.round(.8375*this.$el.width()),this.$el.find(".aglmd-algorithm-nodes-frame").on("scroll",_.debounce(this.uiUpdateAnchor,50)),this.trigger("rendered")},renderAnchor:function(e){var t="";_.forEach(e,function(e){var i=_.cloneDeep(this.model.get("nodes")[e]);return i?(t=i.anchor&&i.anchor.length?i.anchor:t,void(i.responses&&0!==i.responses.length||(t="END"+(t.length?": "+t:"")))):void io.error("nodeId="+e+" listed in algorithm history but could not be found")},this),this.$el.find(".aglmd-file-algorithm").toggleClass("aglmd-anchored",t.length),this.$el.find(".aglmd-algorithm-anchor").text(t)},renderNodes:function(e){function t(){n.scrollLeft(h+c*v),c>=u&&clearInterval(s),c++}var i=this.$el.find(".aglmd-node"),n=this.$el.find(".aglmd-algorithm-nodes-frame"),o=-1,r=e.length,d=this.model.get("entityId");if(_.forEach(e,function(e,t){var n=B.$(i[t]);n.data("nid")===e&&(o=t)}),-1!==o){var l=o+1;B.$(i.slice(l)).remove(),e=e.slice(l)}else this.$el.find(".aglmd-algorithm-nodes").empty();if(_.forEach(e,function(e){var t=_.cloneDeep(this.model.get("nodes")[e]);return t?(this.$el.addClass(String(+new Date)),void this.$el.find(".aglmd-algorithm-nodes").append(templateNode(e,t.prompt,t.responses,t.sections,this.nodeWidth))):void io.error("nodeId="+e+" does not exist in algorithm fileId="+d+"; halting node render")},this),!(2>r)){var s,a=Math.max(n[0].offsetWidth||0,n[0].scrollWidth||0),h=n.scrollLeft(),c=1,g=400,m=36,f=g/m,u=g/f,v=Math.ceil((a-h)/u);s=setInterval(t,f)}},uiClickSection:function(e){var t=B.$(e.target).closest("h2");t.toggleClass("aglmd-active"),t.next(".aglmd-section").toggleClass("aglmd-active")},uiOpenNode:function(e){var t=B.$(e.target).closest(".aglmd-node-response"),i=B.$(e.target).closest(".aglmd-node");t.siblings().removeClass("aglmd-active"),t.addClass("aglmd-active");var n=i.data("nid"),o=this.model.get("nodeIds");o=o.slice(0,_.findLastIndex(o,function(e){return e===n})+1),o.push(t.data("nid")),this.model.set("nodeIds",o)},uiUpdateAnchor:function(e){var t=B.$(e.target),i=this.model.get("nodeIds").slice(),n=Math.max(e.target.offsetWidth||0,e.target.scrollWidth||0),o=t.width(),r=Math.round(t.scrollLeft()/(n-o)*(i.length-1));this.renderAnchor(i.slice(0,r+1))}});module.exports=Algorithm;
},{"../../services/env":"/home/ubuntu/workspace/src/services/env.js","../../services/io":"/home/ubuntu/workspace/src/services/io.js","../../templates/file/algorithm.html":"/home/ubuntu/workspace/src/templates/file/algorithm.html","../../templates/file/algorithm/node.html":"/home/ubuntu/workspace/src/templates/file/algorithm/node.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/file/document.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),env=require("../../services/env"),vmModal=require("../../viewmodels/modal"),Document=B.View.extend({events:function(){var e=env("USE_TAP")?"tap":"click",t=[];return t[e+" .aglmd-moreinfo"]="uiClickInfo",t[e+" h2"]="uiClickSection",t}(),model:require("../../viewmodels/file"),template:require("../../templates/file/document.html"),initialize:function(){_.bindAll(this),this.isRetina=env("IS_RETINA"),this.model.on("change:content",function(e,t){t&&"document"===e.get("type")&&this.trigger("render")},this)},render:function(){var e=this.model.get("content"),t=this.model.get("textDir"),i=this.model.get("textLang");this.$el.html(this.template(e,t,i)),this.$el.find(".aglmd-section").first().toggleClass("aglmd-active",!0),this.trigger("rendered")},uiClickInfo:function(e){var t=B.$(e.target).closest(".aglmd-moreinfo"),i=t.data("iid"),n=this.model.get("infoTexts")[i];vmModal.transition({title:t.text(),content:n,top:env("IS_FIXED_SIZE")?0:t.offset().top})},uiClickSection:function(e){var t=B.$(e.target).closest("h2");t.toggleClass("aglmd-active"),t.next(".aglmd-section").toggleClass("aglmd-active")}});module.exports=Document;
},{"../../services/env":"/home/ubuntu/workspace/src/services/env.js","../../templates/file/document.html":"/home/ubuntu/workspace/src/templates/file/document.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../../viewmodels/modal":"/home/ubuntu/workspace/src/viewmodels/modal.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/file/flowchart.js":[function(require,module,exports){
"use strict";function getDistance(t,e){var i=0,n=0;return i=t[0]-e[0],i*=i,n=t[1]-e[1],n*=n,Math.sqrt(i+n)}function getCoords(t){return[parseInt(t.css("left"),10),parseInt(t.css("top"),10)]}var _=require("lodash"),B=require("backdash"),env=require("../../services/env"),vmModal=require("../../viewmodels/modal"),Flowchart=B.View.extend({events:function(){var t=env("USE_TAP")?"tap":"click",e=[];return e[t+" .aglmd-moreinfo"]="uiClickInfo",e[t+" .aglmd-flowchart-openextra"]="uiClickExtra",e}(),model:require("../../viewmodels/file"),template:require("../../templates/file/flowchart.html"),initialize:function(){_.bindAll(this),this.isRetina=env("IS_RETINA"),this.model.on("change:chart",function(t,e){e&&"flowchart"===t.get("type")&&this.trigger("render")},this)},checkHeight:function(){var t=this.$el.find(".aglmd-file-flowchart"),e=t.height(),i=e;this.$el.find(".aglmd-node").each(function(){var t=B.$(this),e=t.height()+parseInt(t.css("top"),10);e>i&&(i=e)}),i>e&&t.height(i)},initExtra:function(){var t=this.$el.find(".aglmd-start"),e=this.$el.find(".aglmd-flowchart-openextra"),i=this.$el.width(),n=getCoords(t),o=n[0],a=n[1];this.$el.find(".aglmd-node").each(function(){var t=B.$(this),e=t.width(),r=getCoords(t);r[0]+=e;var l=getDistance(n,r);i>l&&(o=r[0],a=r[1],i=l)}),o+=10,a+=5,e.css("left",o+"px"),e.css("top",a+"px")},initPosition:function(){var t=B.$(".aglmd-content"),e=this.$el.find(".aglmd-start"),i=parseInt(e.css("left"),10);i=Math.floor(i-t.width()/2),t.scrollLeft(i),t.scrollTop(parseInt(e.css("top"),10))},render:function(){var t=this.model.get("chart"),e=this.model.get("chartStyle"),i=this.model.get("content"),n=i&&i.length;this.$el.html(this.template(t,e,n)),this.checkHeight(),this.initPosition(),n&&this.initExtra(),this.trigger("rendered")},uiClickInfo:function(t){var e=B.$(t.target).closest(".aglmd-moreinfo"),i=e.data("infotext"),n=this.$el.find("#aglmd-infotext-"+i);vmModal.transition({title:e.text(),content:n.html(),top:env("IS_FIXED_SIZE")?0:e.offset().top})},uiClickExtra:function(t){var e=B.$(t.target).closest(".aglmd-flowchart-openextra");vmModal.transition({title:"Pathway information",content:this.model.get("content"),top:env("IS_FIXED_SIZE")?0:e.offset().top})},uiClickSection:function(t){var e=B.$(t.target).closest("h2");e.toggleClass("aglmd-active"),e.next(".aglmd-section").toggleClass("aglmd-active")}});module.exports=Flowchart;
},{"../../services/env":"/home/ubuntu/workspace/src/services/env.js","../../templates/file/flowchart.html":"/home/ubuntu/workspace/src/templates/file/flowchart.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../../viewmodels/modal":"/home/ubuntu/workspace/src/viewmodels/modal.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/file/pdf.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),PDF=B.View.extend({model:require("../../viewmodels/file"),template:require("../../templates/file/pdf.html"),initialize:function(){_.bindAll(this),this.model.on("change:url",function(e,t){t&&"pdf"===e.get("type")&&this.trigger("render")},this)},render:function(){var e=this.model.get("url");this.$el.html(this.template(e)),this.trigger("rendered")}});module.exports=PDF;
},{"../../templates/file/pdf.html":"/home/ubuntu/workspace/src/templates/file/pdf.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/modal.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),env=require("../services/env"),Modal=B.View.extend({collection:require("../collections/modules"),events:function(){var e=env("USE_TAP")?"tap":"click",t=[];return t[e+" .aglmd-modal-close"]="uiClose",t}(),template:require("../templates/modal.html"),viewmodel:require("../viewmodels/modal"),initialize:function(){_.bindAll(this),this.viewmodel.on("change",function(e){var t=e.changedAttributes();(t.title||t.content)&&this.trigger("render")},this)},render:function(){this.$el.html(this.template(this.viewmodel.get("title"),this.viewmodel.get("content")));var e=this.$el.children(".aglmd-modal-content"),t=e.height(),i=B.$("#agilemd").height(),l=this.viewmodel.get("top");return this.$el.css("top",Math.round(Math.min(l,i-t))||""),this.trigger("rendered"),this},uiClose:function(){this.trigger("unrender")}});module.exports=Modal;
},{"../collections/modules":"/home/ubuntu/workspace/src/collections/modules.js","../services/env":"/home/ubuntu/workspace/src/services/env.js","../templates/modal.html":"/home/ubuntu/workspace/src/templates/modal.html","../viewmodels/modal":"/home/ubuntu/workspace/src/viewmodels/modal.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/navigator/folder.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),env=require("../../services/env"),vmFile=require("../../viewmodels/file"),Folder=B.View.extend({events:function(){var e=env("USE_TAP")?"tap":"click",t=[];return t[e+" .aglmd-folder-items li"]="uiOpenFolderItem",t}(),model:require("../../viewmodels/navigator"),template:require("../../templates/navigator/folder.html"),initialize:function(){_.bindAll(this),this.model.on("change:path",function(e,t){t&&t.length&&(vmFile.transition(),this.trigger("render"))},this)},render:function(){var e=this.model.get("path").slice().pop();return this.$el.html(this.template(e)),this.trigger("rendered"),this},uiOpenFolderItem:function(e){var t=B.$(e.target),i=t.closest(".aglmd-folder"),r=t.closest(".aglmd-folder-item"),l=r.data("type");if("folder"===l){var d=this.model.get("folders"),a=this.model.get("path").slice(),n=r.data("fid"),s=i.data("fid"),o=_.findLastIndex(a,function(e){return e._id===s});return a=a.slice(0,o+1),a.push(d[n]),void this.model.set("path",a)}this.$el.empty(),vmFile.transition({type:l,fileId:r.attr("data-fid"),moduleId:r.attr("data-mid")})}});module.exports=Folder;
},{"../../services/env":"/home/ubuntu/workspace/src/services/env.js","../../templates/navigator/folder.html":"/home/ubuntu/workspace/src/templates/navigator/folder.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../../viewmodels/navigator":"/home/ubuntu/workspace/src/viewmodels/navigator.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}],"/home/ubuntu/workspace/src/views/navigator/top.js":[function(require,module,exports){
"use strict";var _=require("lodash"),B=require("backdash"),env=require("../../services/env"),vmFile=require("../../viewmodels/file"),Top=B.View.extend({events:function(){var t=env("USE_TAP")?"tap":"click",e=[];return e[t+" .aglmd-navigation-back"]="uiBack",e[t+" .aglmd-navigation-art"]="uiToModule",e}(),model:require("../../viewmodels/navigator"),template:require("../../templates/navigator/top.html"),initialize:function(){_.bindAll(this),this.model.on("change",function(t){var e=t.changedAttributes(),i={};if(e.path&&e.path.length)if(1===e.path.length)i.topTitle=this.model.get("title"),i.topSubtitle=this.model.get("subtitle");else if(e.path.length>1){var l=e.path.slice(0);i.topTitle=l.pop().title,i.topSubtitle=_.pluck(l,"title").join(" > ")}this.model.set(i,{silent:!0}),this.render()},this),this.model.on("change:isDisabled",function(t,e){e&&this.disable()},this),vmFile.on("change:title",function(t,e){e&&this.model.set({topTitle:e,topSubtitle:t.get("attribution")})},this)},disable:function(){this.trigger("disabled"),this.$el.toggleClass("aglmd-hide",!0)},render:function(){if(!this.model.get("isDisabled")){var t=this.model.get("art"),e=this.model.get("path"),i=this.model.get("topTitle"),l=this.model.get("topSubtitle"),s=e&&e.length>1;if(!(t||i||l||s))return void this.$el.empty();l&&!i&&(i=l,l=null),this.$el.toggleClass("aglmd-has-art",!!t&&t.length),this.$el.toggleClass("aglmd-has-back",s),this.$el.toggleClass("aglmd-has-subtitle",!!l&&l.length),this.$el.html(this.template(s,t,i,l))}},uiBack:function(){var t=this.model.get("path").slice(),e=t[t.length-1],i=vmFile.get("fileId");_.any(e.items,function(t){return t.fileId===i})||t.pop(),this.model.unset("path",{silent:!0}),this.model.set("path",t)},uiToModule:function(){this.model.transition({moduleId:this.model.get("moduleId")})}});module.exports=Top;
},{"../../services/env":"/home/ubuntu/workspace/src/services/env.js","../../templates/navigator/top.html":"/home/ubuntu/workspace/src/templates/navigator/top.html","../../viewmodels/file":"/home/ubuntu/workspace/src/viewmodels/file.js","../../viewmodels/navigator":"/home/ubuntu/workspace/src/viewmodels/navigator.js","backdash":"/home/ubuntu/workspace/node_modules/backdash/backbone.js","lodash":"/home/ubuntu/workspace/node_modules/lodash/dist/lodash.js"}]},{},["./src/app.js"]);